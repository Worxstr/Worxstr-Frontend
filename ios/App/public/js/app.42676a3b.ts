(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"113d":function(e,t,a){"use strict";a("2a01")},2992:function(e,t,a){e.exports=a.p+"img/alex.df96f5e1.jpg"},"2a01":function(e,t,a){},"2f3c":function(e,t,a){},"3a0b":function(e,t,a){"use strict";a("2f3c")},"4d5c":function(e,t,a){"use strict";a("4f09")},"4f09":function(e,t,a){},"5c0b":function(e,t,a){"use strict";a("9c0c")},"5f83":function(e,t,a){},"64a2":function(e,t,a){},"6b8b":function(e,t,a){e.exports=a.p+"img/andrew.a0f49f2e.jpg"},"7c23":function(e,t,a){},"7d05":function(e,t,a){},"86bf":function(e,t,a){var n={"./alex.jpg":"2992","./andrew.jpg":"6b8b","./jackson.jpg":"a5ea","./james.jpg":"af0e"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="86bf"},"9b19":function(e,t,a){e.exports=a.p+"img/logo.4460c161.svg"},"9c0c":function(e,t,a){},a5ea:function(e,t,a){e.exports=a.p+"img/jackson.2797c2fc.jpg"},af0e:function(e,t,a){e.exports=a.p+"img/james.3ae51206.jpg"},affc:function(e,t,a){},c655:function(e,t,a){"use strict";a("64a2")},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:e.$vuetify.theme.dark?"grey darken-4":"white","elevate-on-scroll":""}},[n("v-container",{staticClass:"py-0 fill-height"},[n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[n("v-avatar",{staticClass:"mr-10",attrs:{tile:"",size:"50"}},[n("img",{attrs:{src:a("9b19")}})])],1),e.authenticatedUser&&e.authenticatedUser.roles&&!e.$vuetify.breakpoint.smAndDown?n("div",{staticClass:"d-flex flex-row"},e._l(e.primaryNavLinks,(function(t){return n("v-btn",{key:t.name,attrs:{text:"",to:{name:t.name},"active-class":"primary--text"}},[e._v(e._s(t.name))])})),1):e._e(),n("v-spacer"),e._l(e.secondaryNavLinks,(function(t){return n("div",[t.icon?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",to:t.to?{name:t.to}:null},on:{click:function(){return t.click?t.click():""}}},"v-btn",i,!1),r),[n("v-icon",[e._v(e._s(t.icon))])],1)]}}],null,!0)},[n("span",[e._v(e._s(t.text))])]):n("v-btn",{attrs:{text:"",to:{name:t.to},"active-class":"primary--text"}},[e._v(e._s(t.text))])],1)}))],2)],1),n("v-main",{class:{grey:!e.$vuetify.theme.dark,"lighten-3":!e.$vuetify.theme.dark},style:"padding-bottom: "+(e.$route.meta&&e.$route.meta.fullHeight?"0px":"")},[n("v-container",{staticClass:"pa-0 align-start",attrs:{fluid:""}},[n("transition",{attrs:{appear:"",name:"slide-y-transition",mode:"out-in"}},[n("router-view",{style:"height: "+e.pageHeight})],1)],1)],1),n("transition",{attrs:{name:"slide-fade"}},[e.authenticatedUser&&e.authenticatedUser.roles&&e.$vuetify.breakpoint.smAndDown&&"conversation"!=e.$route.name&&"home"!=e.$route.name?n("v-bottom-navigation",{attrs:{app:"",color:"indigo",grow:""}},e._l(e.primaryNavLinks,(function(t){return n("v-btn",{key:t.name,attrs:{value:t.name,to:{name:t.name}}},[n("span",[e._v(e._s(e._f("capitalize")(t.name)))]),n("v-icon",[e._v(e._s(t.meta.icon))])],1)})),1):e._e()],1),e.$route.meta.showFooter?n("worxstr-footer"):e._e(),n("v-snackbar",{attrs:{app:"",timeout:e.snackbar.timeout},scopedSlots:e._u([e.snackbar.action?{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(){e.snackbar.action(),e.snackbar.show=!1}}},"v-btn",a,!1),[e._v(e._s(e.snackbar.actionText))])]}}:null],null,!0),model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(e._s(e.snackbar.text))])],1)},i=[],o=(a("4de4"),a("caad"),a("d81d"),a("45fc"),a("2532"),a("5530")),s=(a("96cf"),a("1da1")),c=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"worxstr-footer",attrs:{padless:""}},[a("v-card",{staticClass:"lighten-2 text-center",attrs:{flat:"",tile:"",width:"100%"}},[a("div",{staticClass:"my-2"},e._l(e.links,(function(t){return a("v-btn",{key:t.to,staticClass:"my-2",attrs:{text:"",to:t.to}},[e._v(e._s(t.text))])})),1),a("div",{staticClass:"mb-3"},e._l(e.socials,(function(t){return a("v-btn",{attrs:{icon:"",href:t.link,target:"_blank"}},[a("v-icon",{attrs:{size:"24px"}},[e._v(e._s(t.icon))])],1)})),1),a("v-card-text",{staticClass:"pt-0"},[e._v("Some additional info can go here")]),a("v-divider"),a("v-card-text",[a("span",[e._v("© ")]),a("strong",[e._v("Worxstr L.L.C. ")]),a("span",[e._v(e._s((new Date).getFullYear())+" — All rights reserved")])])],1)],1)},d=[],u={name:"worxstrFooter",data:function(){return{links:[{to:"about",text:"About us"},{to:"contact",text:"Contact us"},{to:"privacy",text:"Privacy policy"},{to:"terms",text:"Terms of use"}],socials:[{icon:"mdi-facebook",link:""},{icon:"mdi-instagram",link:""},{icon:"mdi-twitter",link:""},{icon:"mdi-linkedin",link:"https://www.linkedin.com/company/worxstr-llc/"}]}}},m=u,p=a("2877"),f=a("6544"),v=a.n(f),h=a("8336"),b=a("b0af"),g=a("99d9"),_=a("ce7e"),x=a("553a"),w=a("132d"),k=Object(p["a"])(m,l,d,!1,null,null,null),y=k.exports;v()(k,{VBtn:h["a"],VCard:b["a"],VCardText:g["b"],VDivider:_["a"],VFooter:x["a"],VIcon:w["a"]});var C=n["a"].extend({name:"App",metaInfo:{titleTemplate:"%s | Worxstr"},components:{WorxstrFooter:y},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initDarkMode(),t.next=3,e.$store.dispatch("getAuthenticatedUser");case 3:a=e.$store.state.authenticatedUser,a.employee_info&&a.employee_info.need_info&&e.$store.dispatch("showSnackbar",{text:"You haven't set your Social Security number.",action:function(){e.$router.push({name:"settings",params:{openSSNDialog:!0}})},actionText:"Set SSN"});case 5:case"end":return t.stop()}}),t)})))()},methods:{signOut:function(){this.$store.dispatch("signOut")},initDarkMode:function(){var e=this,t=window.localStorage.getItem("darkMode"),a=window.matchMedia("(prefers-color-scheme: dark)");"System default"==t?(a.addEventListener("change",(function(t){e.$vuetify.theme.dark=!e.$vuetify.theme.dark})),a.matches&&setTimeout((function(){return e.$vuetify.theme.dark=!0}),0)):this.$vuetify.theme.dark="Dark"==t}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])(["authenticatedUser","snackbar"])),{},{pageHeight:function(){return this.$route.meta.fullHeight?this.$vuetify.breakpoint.mdAndUp?"calc(100vh - 65px)":"calc(100vh - 56px)":"100%"},primaryNavLinks:function(){var e=this;return this.$router.options.routes.filter((function(t){return t.meta&&(t.meta.icon&&!t.meta.restrict||t.meta.icon&&t.meta.restrict&&e.authenticatedUser&&t.meta.restrict.some((function(t){return e.authenticatedUser.roles.map((function(e){return e.id})).includes(t)})))}))},secondaryNavLinks:function(){return this.$store.state.authenticatedUser?[{text:"Settings",icon:"mdi-cog",to:"settings"},{text:"Sign out",icon:"mdi-logout-variant",click:this.signOut}]:[{to:"signIn",text:"Sign in"},{to:"signUp",text:"Sign up"}]}})}),V=C,D=(a("5c0b"),a("7496")),j=a("40dc"),S=a("8212"),O=a("b81c"),T=a("a523"),E=a("f6c4"),$=a("2db4"),A=a("2fa4"),I=a("3a2f"),R=Object(p["a"])(V,r,i,!1,null,null,null),M=R.exports;v()(R,{VApp:D["a"],VAppBar:j["a"],VAvatar:S["a"],VBottomNavigation:O["a"],VBtn:h["a"],VContainer:T["a"],VIcon:w["a"],VMain:E["a"],VSnackbar:$["a"],VSpacer:A["a"],VTooltip:I["a"]});var P=a("9483");Object(P["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("99af");var N=a("8c4f"),U=a("58ca"),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("v-container",{staticClass:"jumbo d-flex flex-column justify-center align-center gradient",attrs:{fluid:"",color:"primary lighten-1"}},[n("img",{staticClass:"ma-8 svg-shadow",attrs:{src:a("9b19"),width:"180"}}),n("h2",{staticClass:"text-h2 font-weight-bold mb-2 white--text"},[e._v("Worxstr")]),n("p",{staticClass:"text-subtitle-2"}),e.authenticatedUser?n("div",[n("v-btn",{staticClass:"mx-2",attrs:{to:{name:"schedule"}}},[e._v("Enter site")]),n("v-btn",{staticClass:"mx-2",on:{click:e.signOut}},[e._v("Sign out")])],1):n("v-btn",{staticClass:"mx-2",attrs:{to:{name:"signIn"}}},[e._v("Sign in")]),n("div",{staticStyle:{height:"160px",display:"block"}})],1),n("v-container",{staticClass:"d-flex flex-column justify-center align-center pa-16"},[n("p",{staticClass:"text-h4 font-weight-bold mb-15"},[e._v("What is Worxstr?")]),n("p",[e._v("The Worxstr management platform was built to address the specific challenges of the temporary labor management industry by people who have operated within it. The platform provides structure and consistency to traditionally disparate and inefficient systems. Every step and process laid out in the platform has been designed with efficiency in mind. The goal of the platform is to make managers more productive and boost labor retention.")]),n("p",[e._v("Time is money. Using the Worxstr platform, the average manager will be able to cut down the time consumed by each task by at least one third, based on conservative time calculations. The increase in manager productivity will enable greater accuracy and increased bandwidth. A 33 percent increase in productivity will reduce expenses, increase efficiency, speed up processes, boost retention, and streamline reporting.")])]),n("v-carousel",{attrs:{cycle:"",interval:"8000",height:"700","hide-delimiter-background":"","show-arrows-on-hover":"","delimiter-icon":"mdi-circle-medium"}},e._l(e.slides,(function(t,a){return n("v-carousel-item",{key:a},[n("v-sheet",{attrs:{color:e.colors[a],height:"100%"}})],1)})),1),n("v-container",{staticClass:"justify-center align-center pa-16 gradient text-center",attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-icon",{staticClass:"white--text text-h2 mb-6"},[e._v("mdi-rocket-launch")]),n("p",{staticClass:"text-h4 font-weight-bold white--text"},[e._v("Our mission")]),n("p",{staticClass:"white--text"},[e._v("At Worxstr our mission is to drive efficiency, consistency, and respect into the management systems for gig labor.")])],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-icon",{staticClass:"white--text text-h2 mb-6"},[e._v("mdi-eye-outline")]),n("p",{staticClass:"text-h4 font-weight-bold white--text"},[e._v("Our vision")]),n("p",{staticClass:"white--text"},[e._v("At Worxstr we aspire to transform the gig labor industry by providing financial stability, transparency, and accountability through a management platform that will drive tomorrow's economy. At Worxstr we believe that every working American deserves the freedom that comes from opportunity and possibility.")])],1)],1)],1)],1)},F=[],B={name:"home",metaInfo:{title:"Worxstr",titleTemplate:null},computed:Object(o["a"])({},Object(c["d"])(["authenticatedUser"])),methods:Object(o["a"])({},Object(c["b"])(["signOut"])),data:function(){return{colors:["indigo","warning","pink darken-2","red lighten-1","deep-purple accent-4"],slides:["First","Second","Third","Fourth","Fifth"]}}},q=B,L=(a("c655"),a("5e66")),H=a("3e35"),z=a("62ad"),W=a("0fd9"),Y=a("8dd9"),G=Object(p["a"])(q,J,F,!1,null,"45c5b967",null),K=G.exports;v()(G,{VBtn:h["a"],VCarousel:L["a"],VCarouselItem:H["a"],VCol:z["a"],VContainer:T["a"],VIcon:w["a"],VRow:W["a"],VSheet:Y["a"]});var Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column"},[n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.memberDialog,callback:function(t){e.memberDialog=t},expression:"memberDialog"}},[e.selectedMember?n("v-card",{attrs:{rounded:"lg",outlined:""}},[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.memberDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-card-text",{staticClass:"pa-4 d-flex flex-column justify-start align-center"},[n("v-avatar",{staticClass:"mb-7",attrs:{size:"180",elevation:"15"}},[n("img",{attrs:{src:a("86bf")("./"+e.selectedMember.photo),alt:e.selectedMember.name}})]),n("span",{staticClass:"text-center mb-1 text-h5 font-weight-bold"},[e._v(e._s(e.selectedMember.name))]),n("span",{staticClass:"text-center mb-3 text-subtitle-1 font-weight-medium"},[e._v(e._s(e.selectedMember.title))]),n("span",{staticClass:"text-center mb-3"},[e._v(e._s(e.selectedMember.description))]),n("div",{staticClass:"mb-3"},e._l(e.selectedMember.socials,(function(t){return n("v-btn",{attrs:{icon:"",href:t.link,target:"_blank"}},[n("v-icon",{attrs:{size:"24px"}},[e._v(e._s(t.icon))])],1)})),1)],1)],1):e._e()],1),n("v-container",{staticClass:"d-flex flex-column justify-center align-stretch px-16 pt-8 text-center",attrs:{fluid:""}},[n("p",{staticClass:"text-h4 font-weight-bold"},[e._v("Our team")]),n("v-row",e._l(e.team,(function(t){return n("v-col",{attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[n("v-card",{attrs:{rounded:"lg",outlined:""},on:{click:function(a){return e.viewMember(t)}}},[n("v-card-text",{staticClass:"pa-4 d-flex flex-column justify-start align-center"},[n("v-avatar",{staticClass:"mb-7",attrs:{size:"120",elevation:"15"}},[n("img",{attrs:{src:a("86bf")("./"+t.photo),alt:t.name}})]),n("span",{staticClass:"text-center mb-1 text-h5 font-weight-bold"},[e._v(e._s(t.name))]),n("span",{staticClass:"text-center text-subtitle-2 font-weight-medium"},[e._v(e._s(t.title))])],1)],1)],1)})),1)],1)],1)},X=[],Q={name:"about",metaInfo:{title:"About us"},methods:{viewMember:function(e){this.memberDialog=!0,this.selectedMember=e}},data:function(){return{memberDialog:!1,selectedMember:null,team:[{name:"Jackson Sippe",title:"Co-Founder/Head of Product and Development",photo:"jackson.jpg",description:"Jackson Sippe is a second-generation operator of his family’s construction business with extensive experience managing contract labor. He is a software developer with experience working for a major Point-Of-Sale system provider in the retail industry. Jackson is also an MBA student at Appalachian State University with an undergraduate degree in Computer Science.",socials:[{link:"mailto:jackson@worxstr.com",icon:"mdi-at"},{link:"https://github.com/sippejw",icon:"mdi-github"},{link:"https://www.linkedin.com/in/jackson-sippe-628392159/",icon:"mdi-linkedin"}]},{name:"James Wheeler",title:"Co-Founder/Head of Sales and Marketing",photo:"james.jpg",description:"James Wheeler is a third-generation businessman having grown up in a business family and has experience as a national accounts manager at a logistics company based in Hickory, NC. He has extensive insight into the management for gig labor through his work within the liquidation advertising industry. James is currently completing his second undergraduate degree from Appalachian State University in Computer Information Systems Management with a prior degree in Advertising and General Business.",socials:[{link:"mailto:james@worxstr.com",icon:"mdi-at"},{link:"https://www.linkedin.com/in/jameswheeler94/",icon:"mdi-linkedin"}]},{name:"Alex Wohlbruck",title:"Lead frontend developer",photo:"alex.jpg",description:"Alex Wohlbruck is a web developer at heart and has experience doing contract work for various organizations. He loves cats, and he is an undergrad student at Appalachian State University, studying for a B.S. in computer science.",socials:[{link:"mailto:alexwohlbruck@gmail.com",icon:"mdi-at"},{link:"https://github.com/alexwohlbruck",icon:"mdi-github"},{link:"https://www.linkedin.com/in/alexwohlbruck/",icon:"mdi-linkedin"}]},{name:"Andrew Thorp",title:"Lead backend developer & DevOps engineer",photo:"andrew.jpg",description:"Andrew is a genius",socials:[{link:"https://github.com/aThorp96",icon:"mdi-github"},{link:"https://www.linkedin.com/in/aThorp96",icon:"mdi-linkedin"}]}]}}},ee=Q,te=(a("f26d"),a("169a")),ae=a("71d9"),ne=Object(p["a"])(ee,Z,X,!1,null,null,null),re=ne.exports;v()(ne,{VAvatar:S["a"],VBtn:h["a"],VCard:b["a"],VCardText:g["b"],VCol:z["a"],VContainer:T["a"],VDialog:te["a"],VIcon:w["a"],VRow:W["a"],VSpacer:A["a"],VToolbar:ae["a"]});var ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"d-flex flex-column justify-center align-center pt-8"},[a("p",{staticClass:"text-h4 font-weight-bold mb-10"},[e._v("Contact us")]),a("v-form",{staticClass:"flex-grow-1 d-flex flex-column",staticStyle:{width:"600px","max-width":"100%"},on:{submit:function(t){return t.preventDefault(),e.updateTimecard(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-text-field",{attrs:{outlined:"",filled:"",dense:"",label:"Subject",required:""},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}}),a("v-textarea",{attrs:{outlined:"",filled:"",dense:"",label:"Message",required:""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.openEmailClient}},[e._v("Send message")])],1)],1)],1)},oe=[],se={name:"contact",metaInfo:{title:"Contact us"},data:function(){return{subject:"",message:""}},methods:{openEmailClient:function(){var e=window.open("mailto:support@worxstr.com?subject=".concat(this.subject,"&body=").concat(this.message),"_blank");e.focus()}}},ce=se,le=a("4bd4"),de=a("8654"),ue=a("a844"),me=Object(p["a"])(ce,ie,oe,!1,null,null,null),pe=me.exports;v()(me,{VBtn:h["a"],VCardActions:g["a"],VContainer:T["a"],VForm:le["a"],VSpacer:A["a"],VTextField:de["a"],VTextarea:ue["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"d-flex flex-column justify-center align-center pt-8",attrs:{fluid:""}},[a("p",{staticClass:"text-h4 font-weight-bold mb-15"},[e._v("Privacy policy")])])},ve=[],he={name:"privacy",metaInfo:{title:"Privacy policy"}},be=he,ge=Object(p["a"])(be,fe,ve,!1,null,null,null),_e=ge.exports;v()(ge,{VContainer:T["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"d-flex flex-column justify-center align-center pt-8",attrs:{fluid:""}},[a("p",{staticClass:"text-h4 font-weight-bold mb-15"},[e._v("Terms of use")])])},we=[],ke={name:"terms",metaInfo:{title:"Terms of use"}},ye=ke,Ce=Object(p["a"])(ye,xe,we,!1,null,null,null),Ve=Ce.exports;v()(Ce,{VContainer:T["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"sign-in fill-height d-flex flex-column justify-center align-center"},[a("v-card",{attrs:{width:"500"}},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.signIn(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-card-title",[e._v("Sign in")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Email",type:"email",required:"",rules:e.emailRules},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("v-text-field",{attrs:{label:"Password",type:"password",required:"",rules:e.passwordRules},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",to:{name:"resetPassword",params:{email:e.form.email}}}},[e._v("Forgot password?")]),a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary",type:"submit",disabled:!e.isValid}},[e._v("Sign in")])],1)],1),a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:"0.2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1)],1)],1)},je=[],Se={name:"signIn",metaInfo:{title:"Sign in"},data:function(){return{form:{email:"",password:""},isValid:!1,emailRules:[function(e){return!!e||"Email required"},function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid email"}],passwordRules:[function(e){return!!e||"Password required"},function(e){return e.length>=8||"Password must be 8 characters"}],loading:!1}},methods:{signIn:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("signIn",e.form);case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}}},Oe=Se,Te=a("0789"),Ee=a("a797"),$e=a("490a"),Ae=Object(p["a"])(Oe,De,je,!1,null,null,null),Ie=Ae.exports;v()(Ae,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:T["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"],VTextField:de["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"sign-in fill-height d-flex flex-column justify-center align-center"},[a("v-card",{attrs:{width:"500"}},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.signUp(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-card-title",[e._v("Sign up")]),a("v-card-text",[a("v-text-field",{attrs:{label:"First name",rules:e.rules.firstName,required:""},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}}),a("v-text-field",{attrs:{label:"Last name",rules:e.rules.lastName,required:""},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}}),a("v-text-field",{attrs:{label:"Email",type:"email",rules:e.rules.email,required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("v-text-field",{attrs:{label:"Phone",type:"phone",rules:e.rules.phone,required:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),a("v-text-field",{attrs:{label:"Manager ID",rules:e.rules.managerId},model:{value:e.form.manager_id,callback:function(t){e.$set(e.form,"manager_id",t)},expression:"form.manager_id"}}),a("v-text-field",{attrs:{label:"Password",type:"password",rules:e.rules.password,required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),a("v-text-field",{attrs:{label:"Confirm password",type:"password",rules:e.rules.confirmPassword.concat([function(t){return t==e.form.password||"Passwords must match"}]),required:""},model:{value:e.form.confirm_password,callback:function(t){e.$set(e.form,"confirm_password",t)},expression:"form.confirm_password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary",type:"submit",disabled:!e.isValid}},[e._v("Sign up")])],1)],1),a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:"0.2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1)],1)],1)},Me=[],Pe={name:"signUp",metaInfo:{title:"Sign up"},data:function(){return{form:{first_name:"",last_name:"",phone:"",email:"",manager_id:"",password:"",confirm_password:""},isValid:!1,rules:{firstName:[function(e){return!!e||"First name required"}],lastName:[function(e){return!!e||"Last name required"}],phone:[function(e){return!!e||"Phone required"},function(e){var t=/^(()?\d{3}())?(-|\s)?\d{3}(-|\s)?\d{4}$/;return t.test(e)||"Invalid phone"}],email:[function(e){return!!e||"Email required"},function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid email"}],managerId:[function(e){return!!e||"Manager ID required"}],password:[function(e){return!!e||"Password required"},function(e){return e.length>=8||"Password must be 8 characters"}],confirmPassword:[function(e){return!!e||"Password confirmation required"}]},loading:!1}},methods:{signUp:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("signUp",e.form);case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}}},Ne=Pe,Ue=Object(p["a"])(Ne,Re,Me,!1,null,null,null),Je=Ue.exports;v()(Ue,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:T["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"],VTextField:de["a"]});var Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"sign-in fill-height d-flex flex-column justify-center align-center"},[a("v-card",{attrs:{width:"500"}},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.sendResetEmail(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-card-title",[e._v("Reset your password")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Email",type:"email",required:"",rules:e.emailRules},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary",type:"submit",disabled:!e.isValid}},[e._v("Send reset email")])],1)],1),a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:"0.2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1)],1)],1)},Be=[],qe={name:"resetPassword",mounted:function(){this.$route.params.email&&(this.form.email=this.$route.params.email)},data:function(){return{form:{email:""},isValid:!1,emailRules:[function(e){return!!e||"Email required"},function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid email"}],loading:!1}},methods:{sendResetEmail:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("resetPassword",e.form.email);case 3:e.$store.dispatch("showSnackbar",{text:"Reset link sent"}),e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()}}},Le=qe,He=Object(p["a"])(Le,Fe,Be,!1,null,null,null),ze=He.exports;v()(He,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:T["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"],VTextField:de["a"]});var We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading&&e.user?a("v-container",[a("v-skeleton-loader",{staticClass:"my-4",attrs:{type:"heading"}}),a("v-skeleton-loader",{attrs:{type:"list-item, list-item, list-item, list-item, list-item, list-item, list-item"}})],1):a("div",[a("v-container",{staticClass:"d-flex flex-column justify-center"},[a("v-card",[a("v-card-title",[e._v(e._s(e._f("fullName")(e.user)))]),a("v-card-text",[a("p",[e._v("User ID: "+e._s(e.user.id))]),a("p",[e._v(e._s(e.user.email))]),a("p",[e._v(e._s(e._f("phone")(e.user.phone)))]),a("div",{staticClass:"d-flex"},[a("v-spacer"),a("v-btn",{attrs:{text:""}},[e._v("Edit wage")]),a("v-btn",{attrs:{text:"",color:"red"}},[e._v("Delete user")])],1)])],1)],1)],1)},Ye=[],Ge={name:"User",metaInfo:function(){return{title:this.user?this.$options.filters.fullName(this.user):"User"}},mounted:function(){this.$store.dispatch("loadUser",this.$route.params.userId)},computed:{user:function(){return this.$store.getters.user(this.$route.params.userId)}}},Ke=Ge,Ze=a("3129"),Xe=Object(p["a"])(Ke,We,Ye,!1,null,null,null),Qe=Xe.exports;v()(Xe,{VBtn:h["a"],VCard:b["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:T["a"],VSkeletonLoader:Ze["a"],VSpacer:A["a"]});var et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"clock d-flex flex-column flex-md-row-reverse justify-md-center align-md-start"},[a("div",{staticClass:"mx-15 d-flex align-center align-md-start flex-column justify-center",staticStyle:{"margin-top":"20vh","margin-bottom":"15vh",top:"120px",position:"sticky"}},[e.nextShift&&e.nextShift.time_begin&&e.nextShift.time_end?a("div",[a("h6",{staticClass:"text-h6"},[e._v("Your shift "+e._s(e.nextShift.shiftActive?"ends":"begins")+" at "+e._s(e.nextShift.site_location)+" at")]),a("h3",{staticClass:"text-h3 py-2 font-weight-bold"},[e._v(e._s((e.nextShift.shiftActive?e.nextShift.time_end:e.nextShift.time_begin).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).replace(/^0(?:0:0?)?/,"")))]),a("p",{staticClass:"text-subtitle-2 text-center text-md-left"},[a("countdown",{attrs:{"end-time":e.nextShift.shiftActive?e.nextShift.time_end:e.nextShift.time_begin},scopedSlots:e._u([{key:"process",fn:function(t){return[a("span",[e._v("That's in "),0!=t.timeObj.d?a("span",[e._v(e._s(t.timeObj.d)+" days, ")]):e._e(),0!=t.timeObj.h?a("span",[e._v(e._s(t.timeObj.h)+" hours, ")]):e._e(),0!=t.timeObj.m?a("span",[e._v(e._s(t.timeObj.m)+" minutes, "+e._s(t.timeObj.s)+" seconds.")]):e._e()])]}},{key:"finish",fn:function(){return[a("span",[e._v("That's right now!")])]},proxy:!0}],null,!1,500307819)})],1),a("div",{staticClass:"d-flex flex-row"},[a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500"},model:{value:e.verifyDialog.opened,callback:function(t){e.$set(e.verifyDialog,"opened",t)},expression:"verifyDialog.opened"}},[a("v-card",{staticClass:"sign-in fill-height"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submitCode(e.verifyDialog.code)}}},[a("v-card-title",[e._v("Scan your clock in QR code")]),a("div",[a("qrcode-stream",{on:{decode:e.submitCode,init:e.qrInit}})],1),a("v-card-text",[a("v-text-field",{attrs:{label:"Or enter the code manually","hide-details":""},model:{value:e.verifyDialog.code,callback:function(t){e.$set(e.verifyDialog,"code",t)},expression:"verifyDialog.code"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.verifyDialog.opened=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary",type:"submit"}},[e._v("Submit")])],1)],1),a("v-fade-transition",[e.verifyDialog.cameraLoading?a("v-overlay",{attrs:{absolute:"",opacity:"0.2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1)],1)],1),a("v-expand-x-transition",[e.onBreak?e._e():a("div",{staticClass:"py-2"},[a("v-btn",{staticClass:"pa-6 mr-2",staticStyle:{transition:"background-color 0.3s"},attrs:{raised:"",color:e.clocked?"pink":"green",width:"130px",dark:""},on:{click:function(t){e.clocked?e.clockOut():e.openVerifyDialog()}}},[e._v("Clock "+e._s(e.clocked?"out":"in"))])],1)]),a("v-expand-x-transition",[e.clocked?a("div",{staticClass:"py-2"},[a("v-btn",{staticClass:"pa-6",staticStyle:{transition:"background-color 0.3s"},attrs:{raised:"",color:e.onBreak?"green":"amber",width:"130px",dark:""},on:{click:function(t){return e.toggleBreak(!!e.onBreak)}}},[e._v(e._s(e.onBreak?"End":"Start")+" break")])],1):e._e()])],1)]):a("div",[a("h6",{staticClass:"text-h6"},[e._v("You have no upcoming shifts")])])]),a("v-card",{staticClass:"align-self-center",staticStyle:{"margin-bottom":"60px"},attrs:{width:"100%","max-width":"500px",rounded:"lg"}},[a("v-card-title",{staticClass:"ma-1"},[e._v("Your history")]),e.clockHistory.length?a("div",[a("clock-events",{attrs:{events:e.clockHistory}}),a("v-card-actions",{staticClass:"d-flex justify-center"},[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.loadClockHistory}},[a("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-arrow-down ")]),e._v(" Load previous week")],1)],1)],1):a("v-card-text",[e._v("No history yet")])],1)],1)},tt=[],at=(a("7db0"),a("b0c0"),a("c986")),nt=a.n(at),rt=a("bb6f"),it=1,ot=2,st=3,ct=4,lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-timeline",{attrs:{"align-top":"",dense:""}},[a("transition-group",{attrs:{name:"scroll-y-transition"}},e._l(e.eventsWithDateLabels,(function(t){return a("div",{key:t.id||t.label},[t.label?a("v-timeline-item",{attrs:{"hide-dot":""}},[a("span",[e._v(e._s(e._f("date")(t.label,"dddd, MMM D")))])]):a("v-timeline-item",{attrs:{color:e.eventMetadata[t.action].color,small:""}},[a("v-row",{staticClass:"pt-1"},[a("v-col",{attrs:{cols:"3"}},[a("strong",[e._v(e._s(e._f("time")(t.time)))])]),a("v-col",[a("strong",[e._v(e._s(e.eventMetadata[t.action].label))]),a("div",{staticClass:"caption"},[e._v(e._s(t.description))])])],1)],1)],1)})),0)],1)},dt=[],ut=(a("5db7"),a("73d9"),a("ade3")),mt={name:"clockEvents",props:{events:Array},data:function(){var e;return{eventMetadata:(e={},Object(ut["a"])(e,it,{color:"green",label:"Clocked in"}),Object(ut["a"])(e,ot,{color:"pink",label:"Clocked out"}),Object(ut["a"])(e,st,{color:"amber",label:"Started break"}),Object(ut["a"])(e,ct,{color:"green",label:"Ended break"}),e)}},computed:{eventsWithDateLabels:function(){var e;return this.events.flatMap((function(t,a){var n=new Date(t.time),r=[];return e&&e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()||r.push({label:n,id:"day-".concat(a)}),r.push(t),e=n,r}))}}},pt=mt,ft=a("8414"),vt=a("1e06"),ht=Object(p["a"])(pt,lt,dt,!1,null,null,null),bt=ht.exports;v()(ht,{VCol:z["a"],VRow:W["a"],VTimeline:ft["a"],VTimelineItem:vt["a"]}),n["a"].use(nt.a,"vac");var gt={name:"clock",metaInfo:{title:"Clock"},data:function(){return{verifyDialog:{opened:!1,cameraLoading:!1,code:""}}},components:{QrcodeStream:rt["QrcodeStream"],ClockEvents:bt},mounted:function(){this.clockHistory.length||this.loadClockHistory(),this.$store.dispatch("loadNextShift")},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["d"])(["clock"])),Object(c["c"])(["clockHistory","nextShift"])),{},{clocked:function(){var e=this.clockHistory.find((function(e){return e.action==it||e.action==ot}));return e?e.action==it:null},onBreak:function(){var e=this.clockHistory.find((function(e){return e.action==st||e.action==ct}));return e?e.action==st:null}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["clockIn","clockOut","toggleBreak"])),{},{openVerifyDialog:function(){this.verifyDialog.opened=!0},qrInit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.verifyDialog.cameraLoading=!0,a.prev=1,a.next=4,e;case 4:a.next=24;break;case 6:a.prev=6,a.t0=a["catch"](1),a.t1=a.t0.name,a.next="NotAllowedError"===a.t1?11:"NotFoundError"===a.t1?13:"NotSupportedError"===a.t1?15:"NotReadableError"===a.t1?17:"OverconstrainedError"===a.t1?19:"StreamApiNotSupportedError"===a.t1?21:23;break;case 11:return n="Camera permission denied",a.abrupt("break",23);case 13:return n="No camera",a.abrupt("break",23);case 15:return n="Page must be served over HTTPS",a.abrupt("break",23);case 17:return n="Camera in use",a.abrupt("break",23);case 19:return n="No front camera",a.abrupt("break",23);case 21:return n="Browser not supported",a.abrupt("break",23);case 23:t.$store.dispatch("showSnackbar",{text:n});case 24:return a.prev=24,t.verifyDialog.cameraLoading=!1,a.finish(24);case 27:case"end":return a.stop()}}),a,null,[[1,6,24,27]])})))()},submitCode:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("clockIn",{code:e});case 2:t.verifyDialog.opened=!1;case 3:case"end":return a.stop()}}),a)})))()},loadClockHistory:function(){this.$store.dispatch("loadClockHistory")}})},_t=gt,xt=Object(p["a"])(_t,et,tt,!1,null,null,null),wt=xt.exports;v()(xt,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:T["a"],VDialog:te["a"],VExpandXTransition:Te["b"],VFadeTransition:Te["c"],VIcon:w["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"],VTextField:de["a"]});var kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return!e.loading||e.approvedTimecards.length||e.unapprovedTimecards.length?a("div",[e.approvedTimecards.length||e.unapprovedTimecards.length?a("v-container",{staticClass:"approvals"},[a("edit-timecard-dialog",{attrs:{opened:e.editTimecardDialog,timecard:e.selectedTimecards[0]},on:{"update:opened":function(t){e.editTimecardDialog=t}}}),a("approve-dialog",{attrs:{opened:e.approveDialog,timecards:e.selectedTimecards},on:{"update:opened":function(t){e.approveDialog=t}}}),a("deny-dialog",{attrs:{opened:e.denyDialog,timecard:e.selectedTimecards[0]},on:{"update:opened":function(t){e.denyDialog=t}}}),a("payment-dialog",{attrs:{opened:e.paymentDialog,timecards:e.selectedTimecards},on:{"update:opened":function(t){e.paymentDialog=t}}}),e.approvedTimecards.length?a("div",{staticClass:"mb-5"},[a("v-toolbar",{staticClass:"no-padding",attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h6"},[a("span",[e._v("Pending")]),a("v-chip",{staticClass:"mx-3 pa-2 font-weight-black",attrs:{small:""}},[e._v(e._s(e.approvedTimecards.length))])],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.openPaymentDialog(e.approvedTimecards)}}},[a("v-icon",[e._v("mdi-currency-usd")]),e._v(" Complete payments")],1)],1),a("v-expansion-panels",e._l(e.approvedTimecards,(function(t){return a("v-expansion-panel",{key:t.id},[a("v-expansion-panel-header",{staticClass:"d-flex"},[a("span",{staticClass:"text-subtitle-1 flex-grow-0"},[e._v(e._s(e._f("fullName")(t)))]),a("v-spacer"),a("span",{staticClass:"flex-grow-0 px-2 font-weight-bold"},[e._v("$"+e._s(t.total_payment))]),t.time_clocks&&t.time_clocks.length?a("span",{staticClass:"flex-grow-0 px-2"},[e._v(e._s(e._f("time")(t.time_clocks[0].time))+" - "+e._s(e._f("time")(t.time_clocks[t.time_clocks.length-1].time)))]):e._e()],1),a("v-expansion-panel-content",[a("v-card-text",{staticClass:"text-body-1"},[t.time_clocks&&t.time_clocks.length?a("p",[e._v("Worked for "+e._s(e.timeDiff(t.time_clocks[0].time,t.time_clocks[t.time_clocks.length-1].time)))]):e._e(),a("p",[e._v(e._s(t.time_break)+" minute break")]),a("p",[e._v("$"+e._s(t.total_payment)+" earned")])])],1)],1)})),1)],1):e._e(),e.unapprovedTimecards.length?a("div",{staticClass:"mb-5"},[a("v-toolbar",{staticClass:"no-padding",attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h6"},[a("span",[e._v("Unapproved")]),a("v-chip",{staticClass:"mx-3 pa-2 font-weight-black",attrs:{small:""}},[e._v(e._s(e.unapprovedTimecards.length))])],1),a("v-spacer"),a("v-btn",{attrs:{text:"",color:"green"},on:{click:function(t){return e.openApproveDialog(e.unapprovedTimecards)}}},[a("v-icon",[e._v("mdi-check")]),e._v(" Approve all")],1)],1),a("v-expansion-panels",e._l(e.unapprovedTimecards,(function(t){return a("v-expansion-panel",{key:t.id},[a("v-expansion-panel-header",[a("span",{staticClass:"text-subtitle-1 flex-grow-0"},[e._v(e._s(e._f("fullName")(t)))]),a("v-spacer"),a("span",{staticClass:"flex-grow-0 px-2 font-weight-bold"},[e._v("$"+e._s(t.total_payment))]),t.time_clocks&&t.time_clocks.length?a("span",{staticClass:"flex-grow-0 px-2"},[e._v(e._s(e._f("time")(t.time_clocks[0].time))+" - "+e._s(e._f("time")(t.time_clocks[t.time_clocks.length-1].time)))]):e._e()],1),a("v-expansion-panel-content",[a("v-card-text",{staticClass:"text-body-1"},[t.time_clocks&&t.time_clocks.length?a("p",[e._v("Worked for "+e._s(e.timeDiff(t.time_clocks[0].time,t.time_clocks[t.time_clocks.length-1].time)))]):e._e(),a("p",[e._v(e._s(t.time_break)+" minute break")]),a("p",[e._v("$"+e._s(t.total_payment)+" earned")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(a){return e.openEditTimecardDialog(t)}}},[e._v("Edit")]),a("v-btn",{attrs:{text:"",color:"green"},on:{click:function(a){return e.openApproveDialog([t])}}},[a("v-icon",[e._v("mdi-check")]),e._v(" Approve")],1),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(a){return e.openDenyDialog(t)}}},[a("v-icon",[e._v("mdi-close")]),e._v("Deny")],1)],1)],1)],1)})),1)],1):e._e()],1):a("v-container",{staticClass:"d-flex flex-column justify-center",attrs:{"fill-height":""}},[a("v-icon",{staticClass:"text-h2 ma-5"},[e._v("mdi-clock-check-outline")]),a("p",{staticClass:"text-body-1"},[e._v("No timecard approvals left!")])],1)],1):a("v-container",[a("v-skeleton-loader",{staticClass:"my-4",attrs:{type:"heading"}}),a("v-skeleton-loader",{attrs:{type:"list-item, list-item, list-item, list-item, list-item, list-item, list-item"}}),a("v-skeleton-loader",{staticClass:"mt-8 mb-4",attrs:{type:"heading"}}),a("v-skeleton-loader",{attrs:{type:"list-item, list-item, list-item, list-item, list-item, list-item, list-item"}})],1)},yt=[],Ct=a("5a0c"),Vt=a.n(Ct),Dt=a("d772"),jt=a.n(Dt),St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[e.timecard?a("v-form",{staticClass:"flex-grow-1 d-flex flex-column",on:{submit:function(t){return t.preventDefault(),e.updateTimecard(t)}},model:{value:e.form.isValid,callback:function(t){e.$set(e.form,"isValid",t)},expression:"form.isValid"}},[a("v-toolbar",{staticClass:"flex-grow-0",attrs:{flat:""}},[a("v-toolbar-title",[e._v("Editing timecard for "+e._s(e._f("fullName")(e.timecard)))])],1),a("v-card-text",[a("time-input",{attrs:{label:"Time in"},model:{value:e.form.data.timeIn.time,callback:function(t){e.$set(e.form.data.timeIn,"time",t)},expression:"form.data.timeIn.time"}}),e._l(e.form.data.breaks,(function(t,n){return a("div",{key:n,staticClass:"mb-5"},[a("v-row",[a("v-col",[a("time-input",{attrs:{required:"","hide-details":"",label:"Break "+(n+1)+" start"},model:{value:t.start.time,callback:function(a){e.$set(t.start,"time",a)},expression:"breakItem.start.time"}})],1),a("v-col",[a("time-input",{attrs:{required:"","hide-details":"",label:"Break "+(n+1)+" end"},model:{value:t.end.time,callback:function(a){e.$set(t.end,"time",a)},expression:"breakItem.end.time"}})],1)],1)],1)})),a("time-input",{attrs:{required:"",label:"Time out"},model:{value:e.form.data.timeOut.time,callback:function(t){e.$set(e.form.data.timeOut,"time",t)},expression:"form.data.timeOut.time"}})],2),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.updateTimecard}},[e._v("Save")])],1)],1):e._e(),a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1)],1)],1)},Ot=[],Tt=(a("4160"),a("fb6a"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-text-field",{attrs:{type:"time",dense:"",outlined:"",required:e.required,rules:e.rules,"hide-details":e.hideDetails,label:e.label,value:e.timeString},on:{input:e.updateDate}})],1)}),Et=[],$t=(a("ac1f"),a("1276"),a("3835")),At={name:"timeInput",props:{value:String,label:String,showSeconds:Boolean,hideDetails:Boolean,required:Boolean,rules:Array},computed:{timeString:function(){return new Date(this.value).toLocaleTimeString([],{hour12:!1})}},methods:{updateDate:function(e){if(e){var t=this.value?new Date(this.value):new Date,a=e.split(":"),n=Object($t["a"])(a,3),r=n[0],i=n[1],o=n[2];t.setHours(r),t.setMinutes(i),t.setSeconds(this.showSeconds?o:0),this.$emit("input",t.toISOString())}}}},It=At,Rt=Object(p["a"])(It,Tt,Et,!1,null,null,null),Mt=Rt.exports;v()(Rt,{VTextField:de["a"]}),Vt.a.extend(jt.a);var Pt={components:{TimeInput:Mt},name:"approvals",data:function(){return{loading:!1,form:{isValid:!1,data:{timeIn:null,timeOut:null,breaks:[]}}}},props:{opened:Boolean,timecard:Object},watch:{timecard:function(e,t){this.calculateFormValues()},opened:function(e,t){1==e&&this.calculateFormValues()}},methods:{closeDialog:function(){this.$emit("update:opened",!1)},calculateFormValues:function(){var e=this.timecard.time_clocks;this.form.data.timeIn=Object.assign({},e[0]),this.form.data.timeOut=Object.assign({},e[e.length-1]);for(var t=e.slice(1,e.length-1),a=[],n=0;n<t.length;n+=2)a.push({start:t[n],end:t[n+1]});this.form.data.breaks=a},timeDiff:function(e,t){e=Vt()(e),t=Vt()(t);var a=Vt.a.duration(t.diff(e)),n=a.format("H"),r=a.format("m");return"".concat(n," hour").concat(1==n?"":"s",", ").concat(r," minute").concat(1==r?"":"s")},updateTimecard:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],a.push(e.form.data.timeIn),e.form.data.breaks.forEach((function(e){a.push(e.start),a.push(e.end)})),a.push(e.form.data.timeOut),e.loading=!0,t.next=7,e.$store.dispatch("updateTimecard",{timecardId:e.timecard.id,events:a});case 7:e.loading=!1,e.closeDialog();case 9:case"end":return t.stop()}}),t)})))()}}},Nt=Pt,Ut=a("2a7f"),Jt=Object(p["a"])(Nt,St,Ot,!1,null,null,null),Ft=Jt.exports;v()(Jt,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCol:z["a"],VDialog:te["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VRow:W["a"],VSpacer:A["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-card-title",{staticClass:"headline"},[e._v("Approve "+e._s(1==e.timecards.length?"this timecard":"these timecards")+"?")]),a("v-card-text",[a("span",[1==e.timecards.length?a("span",[e._v("You are approving "+e._s(e._f("fullName")(e.timecards[0]))+" for $"+e._s(e.timecards[0].total_payment)+" for this shift.")]):a("span",[e._v("You are approving "+e._s(e.timecards.length)+" employees for $"+e._s(e.totalPayment)+" in total.")])]),a("v-checkbox",{attrs:{label:"Make a cash payment"+(1==e.timecards.length?"":"s")},model:{value:e.payWithCash,callback:function(t){e.payWithCash=t},expression:"payWithCash"}},[e.payWithCash?a("span",e._l(e.timecards,(function(t){return a("span",{key:t.id,staticClass:"text-subtitle-2 red--text d-flex align-center my-2"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"red"}},[e._v("mdi-alert-circle-outline")]),e._v(" Be sure to pay "+e._s(e._f("fullName")(t.first_name))),a("span",{staticClass:"font-weight-black mx-1"},[e._v("$"+e._s(t.total_payment))]),e._v(" in cash.")],1)})),0):e._e()])],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"green",text:""},on:{click:e.approveTimecard}},[e._v(e._s(e.payWithCash?"Confirm cash payment"+(1==e.timecards.length?"":"s"):"Yes, Approve"))])],1)],1)],1)},qt=[],Lt=(a("13d5"),{name:"approveDialog",props:{timecards:Array,opened:Boolean},data:function(){return{payWithCash:!1}},computed:{totalPayment:function(){var e=this.timecards.reduce((function(e,t){return e+parseFloat(t.total_payment)}),0);return Math.round(100*e)/100}},methods:{closeDialog:function(){this.$emit("update:opened",!1)},approveTimecard:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("approveTimecards",e.timecards.map((function(t){return{id:t.id,approved:!0,paypal:!e.payWithCash}})));case 2:e.closeDialog();case 3:case"end":return t.stop()}}),t)})))()}}}),Ht=Lt,zt=a("ac7c"),Wt=Object(p["a"])(Ht,Bt,qt,!1,null,null,null),Yt=Wt.exports;v()(Wt,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCheckbox:zt["a"],VDialog:te["a"],VIcon:w["a"],VSpacer:A["a"]});var Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-card-title",{staticClass:"headline"},[e._v("Deny timecard?")]),e.timecard?a("v-card-text",[e._v(e._s(e._f("fullName")(e.timecard))+" will not be paid for this shift.")]):e._e(),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:e.denyTimecard}},[e._v("Yes, Deny")])],1)],1)],1)},Kt=[],Zt={name:"denyDialog",props:{opened:Boolean,timecard:Object},methods:{closeDialog:function(){this.$emit("update:opened",!1)},denyTimecard:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("denyTimecards",[{id:e.timecard.id,denied:!0}]);case 2:e.closeDialog();case 3:case"end":return t.stop()}}),t)})))()}}},Xt=Zt,Qt=Object(p["a"])(Xt,Gt,Kt,!1,null,null,null),ea=Qt.exports;v()(Qt,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:te["a"],VSpacer:A["a"]});var ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{id:"payment-dialog",fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:"",eager:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-toolbar",{staticClass:"flex-grow-0",attrs:{flat:""}},[a("v-btn",{attrs:{icon:""},on:{click:e.closeDialog}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Complete payment")])],1),a("v-card-text",{staticClass:"mt-5"},[a("p",{staticClass:"text-subtitle-1"},[e._v(e._s(e.timecards.length)+" employee"+e._s(1==e.timecards.length?"":"s")+" will be paid $"+e._s(e.wagePayment)+" in total. A $"+e._s(e.feesPayment)+" fee will be applied."),a("br"),e._v(" Your total is $"+e._s(e.totalPayment)+".")]),e.renderPaypal&&!e.transaction?a("paypal-buttons",{attrs:{createOrder:e.createOrder,onApprove:e.onApprove}}):e._e(),e.transaction?a("div",[a("p",{staticClass:"text-subtitle-2 green--text d-flex align-center my-2"},[e._v("Payment successful. Your PayPal order ID is:")]),a("p",{staticClass:"green--text font-weight-black mx-1"},[e._v(e._s(e.transaction.orderID))])]):e._e()],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")])],1)],1)],1)},aa=[],na=paypal.Buttons.driver("vue",n["a"]),ra={name:"paymentDialog",components:{"paypal-buttons":na},props:{opened:Boolean,timecards:Array,transaction:null},data:function(){return{renderPaypal:!1}},mounted:function(){var e=this;setTimeout((function(){return e.renderPaypal=!0}),1)},computed:{totalPayment:function(){return this.wagePayment+this.feesPayment},wagePayment:function(){var e=this.timecards.reduce((function(e,t){return e+parseFloat(t.wage_payment)}),0);return Math.round(100*e)/100},feesPayment:function(){var e=this.timecards.reduce((function(e,t){return e+parseFloat(t.fees_payment)}),0);return Math.round(100*e)/100}},methods:{closeDialog:function(){this.$emit("update:opened",!1)},createOrder:function(e,t){return console.log({data:e,actions:t}),console.log(this.totalPayment),t.order.create({purchase_units:[{amount:{value:this.totalPayment}}]})},onApprove:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.transaction=e,a.closeDialog(),a.$store.dispatch("approvePayment",{timecards:a.timecards,transaction:e}),n.abrupt("return",t.order.capture());case 4:case"end":return n.stop()}}),n)})))()}}},ia=ra,oa=Object(p["a"])(ia,ta,aa,!1,null,null,null),sa=oa.exports;v()(oa,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VDialog:te["a"],VIcon:w["a"],VSpacer:A["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]}),Vt.a.extend(jt.a);var ca={name:"approvals",metaInfo:{title:"Approvals"},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("loadApprovals");case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},components:{EditTimecardDialog:Ft,ApproveDialog:Yt,PaymentDialog:sa,DenyDialog:ea},data:function(){return{loading:!1,selectedTimecards:[],editTimecardDialog:!1,approveDialog:!1,denyDialog:!1,paymentDialog:!1,breaks:[{}]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])(["authenticatedUser"])),Object(c["c"])(["approvedTimecards","unapprovedTimecards"])),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["signOut"])),{},{timeDiff:function(e,t){e=Vt()(e),t=Vt()(t);var a=Vt.a.duration(t.diff(e)),n=a.format("H"),r=a.format("m");return"".concat(n," hour").concat(1==n?"":"s",", ").concat(r," minute").concat(1==r?"":"s")},openEditTimecardDialog:function(e){this.selectedTimecards=[e],this.editTimecardDialog=!0},openApproveDialog:function(e){this.selectedTimecards=e,this.approveDialog=!0},openDenyDialog:function(e){this.selectedTimecards=[e],this.denyDialog=!0},openPaymentDialog:function(e){this.selectedTimecards=e,this.paymentDialog=!0}})},la=ca,da=(a("3a0b"),a("cc20")),ua=a("cd55"),ma=a("49e2"),pa=a("c865"),fa=a("0393"),va=Object(p["a"])(la,kt,yt,!1,null,null,null),ha=va.exports;v()(va,{VBtn:h["a"],VCardActions:g["a"],VCardText:g["b"],VChip:da["a"],VContainer:T["a"],VExpansionPanel:ua["a"],VExpansionPanelContent:ma["a"],VExpansionPanelHeader:pa["a"],VExpansionPanels:fa["a"],VIcon:w["a"],VSkeletonLoader:Ze["a"],VSpacer:A["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return!e.loading||e.directJobs.length||e.indirectJobs.length?a("v-container",{staticClass:"approvals"},[a("edit-job-dialog",{attrs:{opened:e.createJobDialog,create:""},on:{"update:opened":function(t){e.createJobDialog=t}}}),a("div",{staticClass:"mb-5"},[a("v-toolbar",{attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h6"},[e._v("Jobs")]),a("v-spacer"),e.userIsOrgManager?a("v-btn",{attrs:{text:""},on:{click:e.openCreateJobDialog}},[e._v("Add new job")]):e._e()],1),e.directJobs.length?a("v-card",[a("v-list",e._l(e.directJobs,(function(t){return a("v-list-item",{key:t.id,attrs:{link:"",to:{name:"job",params:{jobId:t.id}}}},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.name)}},[a("v-list-item-subtitle",{domProps:{textContent:e._s(t.address)}})],1)],1)],1)})),1)],1):a("div",{staticClass:"d-flex flex-column justify-center"},[a("v-icon",{staticClass:"text-h2 ma-5"},[e._v("mdi-calendar-check")]),a("p",{staticClass:"text-center text-body-1"},[e._v("No jobs yet.")])],1)],1),e.indirectJobs.length?a("div",{staticClass:"mb-5"},[a("v-toolbar",{attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h6"},[e._v("Subordinate jobs")])],1),a("v-card",[a("v-list",e._l(e.indirectJobs,(function(t){return a("v-list-item",{key:t.id,attrs:{link:"",to:{name:"job",params:{jobId:t.id}}}},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.name)}},[a("v-list-item-subtitle",{domProps:{textContent:e._s(t.address)}})],1)],1)],1)})),1)],1)],1):e._e()],1):a("v-container",[a("v-skeleton-loader",{staticClass:"my-4",attrs:{type:"heading"}}),a("v-skeleton-loader",{attrs:{type:"list-item, list-item, list-item, list-item, list-item, list-item, list-item"}})],1)},ga=[],_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[e.editedJob?a("v-card",{staticClass:"d-flex flex-column"},[a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1),e.editedJob?a("v-form",{ref:"form",staticClass:"flex-grow-1 d-flex flex-column",on:{submit:function(t){return t.preventDefault(),e.updateJob(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-toolbar",{staticClass:"flex-grow-0",attrs:{flat:""}},[a("v-toolbar-title",[e._v(e._s(e.create?"Creating "+(e.editedJob.name||"job"):"Editing "+e.editedJob.name))])],1),a("v-card-text",{staticClass:"py-0"},[a("v-subheader",[e._v("Job details")]),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Job name",rules:e.rules.name,required:""},model:{value:e.editedJob.name,callback:function(t){e.$set(e.editedJob,"name",t)},expression:"editedJob.name"}}),a("vuetify-google-autocomplete",{attrs:{id:"map",outlined:"",dense:"",label:"Address",value:e.editedJob.address?e.editedJob.address+", "+e.editedJob.city+", "+e.editedJob.state+" "+e.editedJob.zip_code:"",rules:e.rules.address},on:{placechanged:e.setPlace}}),a("v-subheader",[e._v("Managers")]),e.managers.organization.length?a("v-select",{attrs:{items:e.managers.organization,"item-text":function(e){return e.first_name+" "+e.last_name},"item-value":"id",outlined:"",dense:"",required:"",label:"Organizational manager"},model:{value:e.editedJob.organization_manager_id,callback:function(t){e.$set(e.editedJob,"organization_manager_id",t)},expression:"editedJob.organization_manager_id"}}):e._e(),e.managers.employee.length?a("v-select",{attrs:{items:e.managers.employee,"item-text":function(e){return e.first_name+" "+e.last_name},"item-value":"id",outlined:"",dense:"",required:"",label:"Employee manager"},model:{value:e.editedJob.employee_manager_id,callback:function(t){e.$set(e.editedJob,"employee_manager_id",t)},expression:"editedJob.employee_manager_id"}}):e._e(),a("v-subheader",[e._v("Consultant info")]),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Name",rules:e.rules.consultantName,required:""},model:{value:e.editedJob.consultant_name,callback:function(t){e.$set(e.editedJob,"consultant_name",t)},expression:"editedJob.consultant_name"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Phone",type:"phone",rules:e.rules.consultantPhone,required:""},model:{value:e.editedJob.consultant_phone,callback:function(t){e.$set(e.editedJob,"consultant_phone",t)},expression:"editedJob.consultant_phone"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Email",type:"email",rules:e.rules.consultantEmail,required:""},model:{value:e.editedJob.consultant_email,callback:function(t){e.$set(e.editedJob,"consultant_email",t)},expression:"editedJob.consultant_email"}})],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"green",disabled:!e.isValid,type:"submit"}},[e._v(e._s(e.create?"Create":"Save"))])],1)],1):e._e()],1):e._e()],1)},xa=[],wa=function(e){return function(t){return!!t||e}},ka={name:"editJobDialog",props:{opened:Boolean,create:Boolean,job:Object},watch:{opened:function(e,t){e&&this.$store.dispatch("loadManagers"),e&&this.job&&(this.editedJob=Object.assign({},this.job))}},computed:Object(o["a"])({},Object(c["d"])(["managers"])),data:function(){return{isValid:!1,editedJob:{},loading:!1,rules:{name:[wa("Job name required")],address:[wa("Address required")],consultantName:[wa("Consultant name required")],consultantPhone:[wa("Consultant phone required"),function(e){var t=/^(()?\d{3}())?(-|\s)?\d{3}(-|\s)?\d{4}$/;return t.test(e)||"Invalid phone"}],consultantEmail:[wa("Email required"),function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid email"}]}}},methods:{closeDialog:function(){this.$emit("update:opened",!1),this.create&&this.$refs.form.reset()},setPlace:function(e,t,a){this.editedJob.address=e.name,this.editedJob.city=e.locality,this.editedJob.state=e.administrative_area_level_1,this.editedJob.zip_code=e.postal_code,this.editedJob.country=e.country,this.editedJob.latitude=e.latitude,this.editedJob.longitude=e.longitude,this.place=t},updateJob:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,!e.create){t.next=6;break}return t.next=4,e.$store.dispatch("createJob",e.editedJob);case 4:t.next=8;break;case 6:return t.next=8,e.$store.dispatch("updateJob",e.editedJob);case 8:e.loading=!1,e.closeDialog();case 10:case"end":return t.stop()}}),t)})))()}}},ya=ka,Ca=a("b974"),Va=a("e0c7"),Da=Object(p["a"])(ya,_a,xa,!1,null,null,null),ja=Da.exports;v()(Da,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VDialog:te["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSelect:Ca["a"],VSpacer:A["a"],VSubheader:Va["a"],VTextField:de["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var Sa=1,Oa=2,Ta=3;function Ea(e,t){return t.roles.map((function(e){return e.id})).includes(e)}var $a={name:"jobs",metaInfo:{title:"Jobs"},data:function(){return{loading:!1,createJobDialog:!1}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("loadJobs");case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["directJobs","indirectJobs"])),{},{userIsOrgManager:function(){return!!this.$store.state.authenticatedUser&&Ea(Ta,this.$store.state.authenticatedUser)}}),components:{EditJobDialog:ja},methods:{openCreateJobDialog:function(){this.createJobDialog=!0}}},Aa=$a,Ia=a("8860"),Ra=a("da13"),Ma=a("5d23"),Pa=Object(p["a"])(Aa,ba,ga,!1,null,null,null),Na=Pa.exports;v()(Pa,{VBtn:h["a"],VCard:b["a"],VContainer:T["a"],VIcon:w["a"],VList:Ia["a"],VListItem:Ra["a"],VListItemContent:Ma["a"],VListItemSubtitle:Ma["b"],VListItemTitle:Ma["c"],VSkeletonLoader:Ze["a"],VSpacer:A["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var Ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading&&!e.job.shifts?a("v-container",[a("v-skeleton-loader",{staticClass:"py-4",attrs:{type:"heading"}}),a("v-card",{staticClass:"pa-4"},[a("v-skeleton-loader",{staticClass:"py-2",attrs:{type:"image, image"}}),a("v-skeleton-loader",{staticClass:"py-2",attrs:{type:"sentences, sentences"}})],1),a("v-skeleton-loader",{staticClass:"mt-8 mb-4",attrs:{type:"heading"}}),a("v-skeleton-loader",{attrs:{type:"list-item, list-item, list-item, list-item, list-item"}})],1):a("div",[e.job?a("v-container",{staticClass:"approvals mb-50"},[a("edit-job-dialog",{attrs:{opened:e.editJobDialog,job:e.job},on:{"update:opened":function(t){e.editJobDialog=t},"update:job":function(t){e.job=t}}}),a("close-job-dialog",{attrs:{opened:e.closeJobDialog,job:e.job},on:{"update:opened":function(t){e.closeJobDialog=t},"update:job":function(t){e.job=t}}}),a("edit-shift-dialog",{attrs:{create:"",opened:e.addShiftDialog,employees:e.job.employees},on:{"update:opened":function(t){e.addShiftDialog=t}}}),a("edit-shift-dialog",{attrs:{opened:e.editShiftDialog,shift:e.selectedShift,employees:e.job.employees},on:{"update:opened":function(t){e.editShiftDialog=t},"update:shift":function(t){e.selectedShift=t}}}),e.selectedShift?a("delete-shift-dialog",{attrs:{opened:e.deleteShiftDialog,shift:e.selectedShift,employeeName:e.employeeName(e.selectedShift.employee_id)},on:{"update:opened":function(t){e.deleteShiftDialog=t},"update:shift":function(t){e.selectedShift=t}}}):e._e(),a("v-toolbar",{attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h5 font-weight-medium"},[e._v(e._s(e.job.name))]),a("v-spacer"),e.userIsOrgManager?a("v-btn",{attrs:{text:""},on:{click:function(t){e.editJobDialog=!0}}},[e._v("Edit")]):e._e(),e.userIsOrgManager?a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.closeJobDialog=!0}}},[e._v("Close")]):e._e()],1),a("v-card",{staticClass:"mb-3 d-flex flex-column"},[e.job.latitude&&e.job.longitude?a("GmapMap",{staticStyle:{height:"40vh"},attrs:{center:e.location,zoom:17}},[a("GmapMarker",{attrs:{position:e.location}})],1):e._e(),a("v-card-text",[a("p",[e._v(e._s(e.job.address)),a("br"),e._v(e._s(e.job.city)+", "+e._s(e.job.state)+" "+e._s(e.job.zip_code)+", "+e._s(e.job.country))]),a("div")]),a("v-layout",{staticClass:"justify-space-between"},[a("div",{staticClass:"flex-grow-1 px-5"},[a("p",{staticClass:"text-subtitle-2 mb-1"},[e._v("Organizational manager")]),a("p",[e._v(e._s(e._f("fullName")(e.job.organization_manager)))])]),a("div",{staticClass:"flex-grow-1 px-5"},[a("p",{staticClass:"text-subtitle-2 mb-1"},[e._v("Employee manager")]),a("p",[e._v(e._s(e._f("fullName")(e.job.employee_manager)))])]),a("div",{staticClass:"flex-grow-1 px-5"},[a("p",{staticClass:"text-subtitle-2 mb-1"},[e._v("Consultant")]),a("p",[e._v(e._s(e.job.consultant_name))])]),a("div",{staticClass:"flex-grow-1 px-5"},[a("p",{staticClass:"text-subtitle-2 mb-1"},[e._v("Consultant code")]),a("p",[e._v(e._s(e.job.consultant_code))])])])],1),a("v-toolbar",{attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h6"},[e._v("Shifts")]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.addShiftDialog=!0}}},[e._v("Add new shift")])],1),e.job.shifts&&e.job.shifts.length?e._e():a("p",{staticClass:"text-body-2 text-center mt-3"},[e._v("There aren't any shifts for this job.")]),a("v-expansion-panels",{attrs:{popout:"",tile:""}},e._l(e.job.shifts,(function(t){return a("v-expansion-panel",{key:t.id},[a("v-expansion-panel-header",{staticClass:"d-flex"},[a("p",{staticClass:"d-flex flex-column mb-0 flex-grow-0 px-2"},[t.employee_id?a("span",{staticClass:"my-1 font-weight-medium"},[e._v(e._s(e._f("fullName")(t.employee)))]):e._e(),a("span",{staticClass:"my-1"},[e._v(e._s(t.site_location))])]),t.active?a("v-chip",{staticClass:"mx-4 px-2 flex-grow-0",attrs:{label:"",outlined:"",small:"",color:"green"}},[e._v("Active")]):e._e(),a("v-spacer"),a("p",{staticClass:"d-flex flex-column mb-0 flex-grow-0 px-2"},[a("span",{staticClass:"my-1 font-weight-medium"},[e._v(e._s(e._f("date")(t.time_begin,"MMM D, YYYY")))]),a("span",{staticClass:"my-1"},[e._v(e._s(e._f("time")(t.time_begin))+" - "+e._s(e._f("time")(t.time_end)))])])],1),a("v-expansion-panel-content",[t.active?a("v-card-content",[t.timeclock_actions.length?a("clock-events",{attrs:{events:t.timeclock_actions}}):e._e()],1):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(a){return e.openEditShiftDialog(t)}}},[e._v("Edit")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(a){return e.openDeleteShiftDialog(t)}}},[e._v("Remove")])],1)],1)],1)})),1)],1):e._e()],1)},Ja=[],Fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-card-title",{staticClass:"headline"},[e._v("Close "+e._s(e.job.name)+"?")]),a("v-card-text",[e._v("This cannot be undone.")]),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:e.closeJob}},[e._v("Yes, Close")])],1),a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1)],1)],1)},Ba=[],qa={name:"closeJobDialog",props:{opened:Boolean,job:Object,employeeName:String},data:function(){return{loading:!1}},methods:{closeDialog:function(){this.$emit("update:opened",!1)},closeJob:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("closeJob",e.job.id);case 3:e.loading=!1,e.closeDialog(),e.$router.push({name:"jobs"});case 6:case"end":return t.stop()}}),t)})))()}}},La=qa,Ha=Object(p["a"])(La,Fa,Ba,!1,null,null,null),za=Ha.exports;v()(Ha,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:te["a"],VFadeTransition:Te["c"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"]});var Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1),e.editedShift?a("v-form",{ref:"form",staticClass:"flex-grow-1 d-flex flex-column",on:{submit:function(t){return t.preventDefault(),e.updateShift(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-toolbar",{staticClass:"flex-grow-0",attrs:{flat:""}},[a("v-toolbar-title",[e._v(e._s(e.create?"Creating shift":"Editing shift"))])],1),a("v-card-text",[a("v-select",{attrs:{items:e.employees,"item-text":function(e){return e.first_name+" "+e.last_name},"item-value":"id",rules:e.rules.employee,outlined:"",dense:"",required:"",label:"Employee"},model:{value:e.editedShift.employee_id,callback:function(t){e.$set(e.editedShift,"employee_id",t)},expression:"editedShift.employee_id"}}),a("v-text-field",{attrs:{label:"Location",rules:e.rules.location,outlined:"",dense:"",required:""},model:{value:e.editedShift.site_location,callback:function(t){e.$set(e.editedShift,"site_location",t)},expression:"editedShift.site_location"}}),a("date-input",{attrs:{required:"",label:"Date",rules:e.rules.date},model:{value:e.editedShift.date,callback:function(t){e.$set(e.editedShift,"date",t)},expression:"editedShift.date"}}),a("v-row",[a("v-col",[a("time-input",{attrs:{required:"",label:"Start time",rules:e.rules.timeBegin},model:{value:e.editedShift.time_begin,callback:function(t){e.$set(e.editedShift,"time_begin",t)},expression:"editedShift.time_begin"}})],1),a("v-col",[a("time-input",{attrs:{required:"",label:"End time",rules:e.rules.timeEnd},model:{value:e.editedShift.time_end,callback:function(t){e.$set(e.editedShift,"time_end",t)},expression:"editedShift.time_end"}})],1)],1)],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"green",disabled:!e.isValid},on:{click:e.updateShift}},[e._v(e._s(e.create?"Create":"Save"))])],1)],1):e._e()],1)],1)},Ya=[],Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{type:"date",dense:"",outlined:"",required:e.required,rules:e.rules,"hide-details":e.hideDetails,label:e.label,value:e.dateString},on:{input:e.updateDate}})},Ka=[],Za={name:"timeInput",props:{value:String,label:String,hideDetails:Boolean,required:Boolean,rules:Array},computed:{dateString:function(){return Vt()(this.value).format("YYYY-MM-DD")}},methods:{updateDate:function(e){if(e){var t=new Date(e);this.$emit("input",t.toISOString())}}}},Xa=Za,Qa=Object(p["a"])(Xa,Ga,Ka,!1,null,null,null),en=Qa.exports;v()(Qa,{VTextField:de["a"]});var tn=function(e){return function(t){return!!t||e}},an=function(e){return function(e){return/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(e)}},nn={name:"editShiftDialog",props:{opened:Boolean,create:Boolean,employees:Array,shift:Object},components:{TimeInput:Mt,DateInput:en},data:function(){return{editedShift:{},isValid:!1,loading:!1,rules:{employee:[tn("Employee required")],location:[tn("Location required")],date:[tn("Date required")],timeBegin:[tn("Start time required"),an("Time invalid")],timeEnd:[tn("End time required"),an("Time invalid")]}}},watch:{opened:function(e,t){var a=this.shift?this.shift.time_begin:void 0;1==e&&(this.editedShift=Object.assign({date:a},this.shift))}},methods:{closeDialog:function(){this.$emit("update:opened",!1),this.create&&this.$refs.form.reset()},updateShift:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,a=Object.assign({},e.editedShift),n=a.date?new Date(a.date):new Date,r=new Date(a.time_begin),i=new Date(a.time_end),r.setUTCDate(n.getUTCDate()),r.setUTCMonth(n.getUTCMonth()),r.setUTCFullYear(n.getUTCFullYear()),i.setUTCDate(n.getUTCDate()),i.setUTCMonth(n.getUTCMonth()),i.setUTCFullYear(n.getUTCFullYear()),a.time_begin=r.toISOString(),a.time_end=i.toISOString(),!e.create){t.next=18;break}return t.next=16,e.$store.dispatch("createShift",{shift:a,jobId:e.$route.params.jobId});case 16:t.next=20;break;case 18:return t.next=20,e.$store.dispatch("updateShift",a);case 20:e.loading=!1,e.closeDialog();case 22:case"end":return t.stop()}}),t)})))()}}},rn=nn,on=Object(p["a"])(rn,Wa,Ya,!1,null,null,null),sn=on.exports;v()(on,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCol:z["a"],VDialog:te["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VRow:W["a"],VSelect:Ca["a"],VSpacer:A["a"],VTextField:de["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var cn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-card-title",{staticClass:"headline"},[e._v("Delete shift "+e._s(e.shift.id)+"?")]),a("v-card-text",[e._v(e._s(e.employeeName)+" will no longer work this shift.")]),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:e.deleteShift}},[e._v("Yes, Delete")])],1),a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1)],1)],1)},ln=[],dn={name:"denyDialog",props:{opened:Boolean,shift:Object,employeeName:String},data:function(){return{loading:!1}},methods:{closeDialog:function(){this.$emit("update:opened",!1)},deleteShift:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("deleteShift",e.shift.id);case 3:e.loading=!1,e.closeDialog();case 5:case"end":return t.stop()}}),t)})))()}}},un=dn,mn=Object(p["a"])(un,cn,ln,!1,null,null,null),pn=mn.exports;v()(mn,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:te["a"],VFadeTransition:Te["c"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"]});var fn={name:"job",metaInfo:function(){return{title:this.job.name||"Job"}},components:{EditJobDialog:ja,CloseJobDialog:za,EditShiftDialog:sn,DeleteShiftDialog:pn,ClockEvents:bt},computed:{job:function(){return this.$store.getters.job(this.$route.params.jobId)},location:function(){return{lat:this.job.latitude,lng:this.job.longitude}},userIsOrgManager:function(){return!!this.$store.state.authenticatedUser&&Ea(Ta,this.$store.state.authenticatedUser)}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("loadJob",e.$route.params.jobId);case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{openEditShiftDialog:function(e){this.selectedShift=e,this.editShiftDialog=!0},openDeleteShiftDialog:function(e){this.selectedShift=e,this.deleteShiftDialog=!0},employeeName:function(e){var t=this.job.employees.find((function(t){return t.id==e}));return"".concat(t.first_name," ").concat(t.last_name)}},data:function(){return{loading:!1,editJobDialog:!1,closeJobDialog:!1,addShiftDialog:!1,editShiftDialog:!1,deleteShiftDialog:!1,selectedShift:null,shifts:[]}}},vn=fn,hn=(a("fa92"),a("a722")),bn=Object(p["a"])(vn,Ua,Ja,!1,null,"6fef66c8",null),gn=bn.exports;v()(bn,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VChip:da["a"],VContainer:T["a"],VExpansionPanel:ua["a"],VExpansionPanelContent:ma["a"],VExpansionPanelHeader:pa["a"],VExpansionPanels:fa["a"],VLayout:hn["a"],VSkeletonLoader:Ze["a"],VSpacer:A["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var _n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("add-workforce-member-dialog",{attrs:{opened:e.addEmployeeDialog,type:"employee"},on:{"update:opened":function(t){e.addEmployeeDialog=t}}}),a("add-workforce-member-dialog",{attrs:{opened:e.addManagerDialog,type:"manager"},on:{"update:opened":function(t){e.addManagerDialog=t}}}),a("v-toolbar",{attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h5 font-weight-medium"},[e._v("Workforce")]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.addEmployeeDialog=!0}}},[e._v("Add employee")]),e.userIsOrgManager?a("v-btn",{attrs:{text:""},on:{click:function(t){e.addManagerDialog=!0}}},[e._v("Add manager")]):e._e()],1),a("v-card",[a("v-data-table",{attrs:{headers:e.headers,items:e.workforce,loading:e.loading},on:{"click:row":e.openUser},scopedSlots:e._u([{key:"item.name",fn:function(t){var n=t.item;return[a("span",[e._v(e._s(e._f("fullName")(n)))])]}},{key:"item.phone",fn:function(t){var n=t.item;return[a("span",[e._v(e._s(e._f("phone")(n.phone)))])]}}])})],1)],1)},xn=[],wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1),a("v-form",{ref:"form",staticClass:"flex-grow-1 d-flex flex-column",on:{submit:function(t){return t.preventDefault(),e.addWorkforceMember(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-toolbar",{staticClass:"flex-grow-0",attrs:{flat:""}},[a("v-toolbar-title",[e._v("Add "+e._s(e.type))])],1),a("v-card-text",[a("v-text-field",{attrs:{label:"First name",dense:"",outlined:"",rules:e.rules.firstName,required:""},model:{value:e.workforceMember.first_name,callback:function(t){e.$set(e.workforceMember,"first_name",t)},expression:"workforceMember.first_name"}}),a("v-text-field",{attrs:{label:"Last name",dense:"",outlined:"",rules:e.rules.lastName,required:""},model:{value:e.workforceMember.last_name,callback:function(t){e.$set(e.workforceMember,"last_name",t)},expression:"workforceMember.last_name"}}),a("v-text-field",{attrs:{label:"Email",type:"email",dense:"",outlined:"",rules:e.rules.email,required:""},model:{value:e.workforceMember.email,callback:function(t){e.$set(e.workforceMember,"email",t)},expression:"workforceMember.email"}}),a("v-text-field",{attrs:{label:"Phone",type:"phone",dense:"",outlined:"",rules:e.rules.phone,required:""},model:{value:e.workforceMember.phone,callback:function(t){e.$set(e.workforceMember,"phone",t)},expression:"workforceMember.phone"}}),"manager"==e.type?a("v-select",{attrs:{items:e.managerTypes,multiple:"",outlined:"",dense:"",required:"",label:"Manager type"},model:{value:e.workforceMember.roles,callback:function(t){e.$set(e.workforceMember,"roles",t)},expression:"workforceMember.roles"}}):e._e(),"employee"==e.type?a("v-text-field",{attrs:{prefix:"$",suffix:"/ hour",label:"Hourly wage",type:"number",min:"0.01",step:"0.01",dense:"",outlined:"",rules:e.rules.currency,required:""},model:{value:e.workforceMember.hourly_rate,callback:function(t){e.$set(e.workforceMember,"hourly_rate",t)},expression:"workforceMember.hourly_rate"}}):e._e(),e.managers.employee.length?a("v-select",{attrs:{items:e.managers.employee,"item-text":function(e){return e.first_name+" "+e.last_name},"item-value":"id",outlined:"",dense:"",required:"",label:"Direct manager"},model:{value:e.workforceMember.manager_id,callback:function(t){e.$set(e.workforceMember,"manager_id",t)},expression:"workforceMember.manager_id"}}):e._e()],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"green",disabled:!e.isValid,type:"submit"}},[e._v("Add")])],1)],1)],1)],1)},kn=[],yn={name:"addWorkforceMemberDialog",props:["opened","type"],computed:Object(o["a"])({},Object(c["d"])(["managers"])),watch:{opened:function(e,t){e&&this.$store.dispatch("loadManagers")}},data:function(){return{isValid:!1,workforceMember:{hourly_rate:12},loading:!1,managerTypes:[{text:"Organization manager",value:"organization_manager"},{text:"Employee manager",value:"employee_manager"}],rules:{firstName:[function(e){return!!e||"First name required"}],lastName:[function(e){return!!e||"Last name required"}],phone:[function(e){return!!e||"Phone required"},function(e){var t=/^(()?\d{3}())?(-|\s)?\d{3}(-|\s)?\d{4}$/;return t.test(e)||"Invalid phone"}],email:[function(e){return!!e||"Email required"},function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid email"}],currency:[function(e){return!!e||"Wage required"},function(e){var t=/^\$?-?([1-9]{1}[0-9]{0,2}(,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))$|^-?\$?([1-9]{1}\d{0,2}(,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))$|^\(\$?([1-9]{1}\d{0,2}(,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))\)$/;return t.text(e)||"Invalid wage"}],managerId:[function(e){return!!e||"Manager ID required"}],password:[function(e){return!!e||"Password required"},function(e){return e.length>=8||"Password must be 8 characters"}],confirmPassword:[function(e){return!!e||"Password confirmation required"}]}}},methods:{closeDialog:function(){this.$emit("update:opened",!1),this.create&&this.$refs.form.reset()},addWorkforceMember:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,"manager"!=e.type){t.next=6;break}return t.next=4,e.$store.dispatch("addManager",e.workforceMember);case 4:t.next=8;break;case 6:return t.next=8,e.$store.dispatch("addEmployee",e.workforceMember);case 8:e.$store.dispatch("showSnackbar",{text:e.$options.filters.capitalize(e.type+" added")}),e.loading=!1,e.closeDialog();case 11:case"end":return t.stop()}}),t)})))()}}},Cn=yn,Vn=Object(p["a"])(Cn,wn,kn,!1,null,null,null),Dn=Vn.exports;v()(Vn,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VDialog:te["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSelect:Ca["a"],VSpacer:A["a"],VTextField:de["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var jn={name:"workforce",metaInfo:{title:"Workforce"},components:{AddWorkforceMemberDialog:Dn},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("loadWorkforce");case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{loading:!1,addEmployeeDialog:!1,addManagerDialog:!1,headers:[{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Phone",value:"phone"},{text:"Manager ID",value:"manager_id"}]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["workforce"])),{},{userIsOrgManager:function(){return!!this.$store.state.authenticatedUser&&Ea(Ta,this.$store.state.authenticatedUser)}}),methods:{openUser:function(e){this.$router.push({name:"user",params:{userId:e.id}})}}},Sn=jn,On=a("8fea"),Tn=Object(p["a"])(Sn,_n,xn,!1,null,null,null),En=Tn.exports;v()(Tn,{VBtn:h["a"],VCard:b["a"],VContainer:T["a"],VDataTable:On["a"],VSpacer:A["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var $n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"home d-flex flex-column align-stretch",attrs:{fluid:"","fill-height":"month"==e.type}},[a("v-toolbar",{staticClass:"flex-grow-0",attrs:{flat:"",color:"transparent"}},[a("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.prev()}}},[a("v-icon",[e._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.next()}}},[a("v-icon",[e._v("mdi-chevron-right")])],1),a("v-spacer"),a("v-select",{staticClass:"ma-2 flex-grow-0",attrs:{items:e.types,"item-text":function(e){return e.charAt(0).toUpperCase()+e.slice(1)},dense:"",solo:"","hide-details":"",label:"View"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),a("v-card",{staticClass:"flex-grow-1"},[a("v-fade-transition",[e.loading&&!e.calendarEvents.length?a("v-overlay",{attrs:{absolute:"",color:e.$vuetify.theme.dark?"black":"white"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:e.$vuetify.theme.dark?"white":"black"}})],1):e._e()],1),a("v-calendar",{ref:"calendar",attrs:{type:e.type,events:e.calendarEvents,"event-overlap-mode":"stack","event-overlap-threshold":30,"event-color":e.getEventColor},on:{change:e.getEvents,"click:event":e.openEvent},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},An=[],In={name:"schedule",metaInfo:{title:"Schedule"},data:function(){return{loading:!1,type:"month",types:["month","week","day","4day"],value:""}},computed:Object(o["a"])({},Object(c["c"])(["calendarEvents"])),methods:{getEvents:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.start,r=e.end,t.loading=!0,a.next=4,t.$store.dispatch("loadCalendarEvents",{start:new Date("".concat(n.date,"T00:00:00")).toISOString(),end:new Date("".concat(r.date,"T23:59:59")).toISOString()});case 4:t.loading=!1;case 5:case"end":return a.stop()}}),a)})))()},getEventColor:function(e){return e.color},openEvent:function(e){e.nativeEvent;var t=e.event;this.$store.state.authenticatedUser.roles.some((function(e){return e.id==Oa||e.id==Ta}))&&this.$router.push({name:"job",params:{jobId:t.job_id}})}}},Rn=In,Mn=(a("113d"),a("a4f6")),Pn=Object(p["a"])(Rn,$n,An,!1,null,null,null),Nn=Pn.exports;v()(Pn,{VBtn:h["a"],VCalendar:Mn["a"],VCard:b["a"],VContainer:T["a"],VFadeTransition:Te["c"],VIcon:w["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSelect:Ca["a"],VSpacer:A["a"],VToolbar:ae["a"]});var Un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"messages fill-height align-start d-flex flex-row pa-md-2 pa-0"},[a("new-conversation-dialog",{attrs:{opened:e.newConversationDialog},on:{"update:opened":function(t){e.newConversationDialog=t}}}),e.$vuetify.breakpoint.mdAndUp||"conversation"==e.$route.name?e._e():a("v-btn",{staticStyle:{transform:"translatey(-180%)"},attrs:{fab:"",app:"",absolute:"",bottom:"",right:"",color:"primary"},on:{click:function(t){e.newConversationDialog=!0}}},[a("v-icon",[e._v("mdi-plus")])],1),"messages"==e.$route.name||e.$vuetify.breakpoint.mdAndUp?a("div",{staticClass:"d-flex flex-column",style:"width: "+("conversation"==e.$route.name?"35%":"100%"),attrs:{"max-width":e.$vuetify.breakpoint.mdAndUp?"35%":"100%"}},[a("v-toolbar",{attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h5 font-weight-medium"},[e._v("Messages")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e.$vuetify.breakpoint.mdAndUp?a("v-btn",e._g(e._b({attrs:{icon:"",color:"primary"}},"v-btn",r,!1),n),[a("v-icon",{on:{click:function(t){e.newConversationDialog=!0}}},[e._v("mdi-plus")])],1):e._e()]}}],null,!1,4100473071)},[a("span",[e._v("New conversation")])])],1),a("div",{staticClass:"mr-md-4",attrs:{rounded:e.$vuetify.breakpoint.mdAndUp?"lg":"0"}},[a("conversations")],1)],1):e._e(),"conversation"==e.$route.name?a("div",{staticClass:"flex-grow-1 fill-height",attrs:{rounded:e.$vuetify.breakpoint.mdAndUp?"lg":"0"}},[a("router-view")],1):e._e()],1)},Jn=[],Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading&&!e.conversations.length?a("v-skeleton-loader",{attrs:{type:"list-item, list-item, list-item, list-item, list-item, list-item, list-item"}}):a("v-card",{staticClass:"conversations"},[a("v-list",{attrs:{color:"transparent"}},e._l(e.conversations,(function(t){return a("v-list-item",{key:t.id,attrs:{link:"",activeclass:"primary--text",to:{name:"conversation",params:{conversationId:t.id}}}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e._f("groupNameList")(t,e.authenticatedUser)))])],1)],1)})),1)],1)},Bn=[],qn={name:"Conversations",mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("loadConversations");case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{loading:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])(["authenticatedUser"])),Object(c["c"])(["conversations"]))},Ln=qn,Hn=Object(p["a"])(Ln,Fn,Bn,!1,null,null,null),zn=Hn.exports;v()(Hn,{VCard:b["a"],VList:Ia["a"],VListItem:Ra["a"],VListItemContent:Ma["a"],VListItemTitle:Ma["c"],VSkeletonLoader:Ze["a"]});var Wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-form",{ref:"form",staticClass:"flex-grow-1 d-flex flex-column",on:{submit:function(t){return t.preventDefault(),e.createConversation(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-card-title",{staticClass:"headline"},[e._v("New conversation")]),a("v-card-text",[a("p",[e._v("Select the person you want to message")]),a("v-autocomplete",{attrs:{items:e.contacts,multiple:"",placeholder:"Find someone",outlined:"",dense:"",rules:[function(e){return 0!=e.length}],"item-text":function(e){return e.first_name+" "+e.last_name},"item-value":function(e){return e.id}},model:{value:e.selectedUsers,callback:function(t){e.selectedUsers=t},expression:"selectedUsers"}})],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary",disabled:!e.isValid},on:{click:e.createConversation}},[e._v("Send message")])],1),a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1)],1)],1)],1)},Yn=[],Gn={name:"newConversationDialog",props:{opened:Boolean},mounted:function(){this.$store.dispatch("loadContacts")},computed:Object(o["a"])({},Object(c["d"])(["contacts"])),data:function(){return{isValid:!1,loading:!1,selectedUsers:[]}},methods:{closeDialog:function(){this.$emit("update:opened",!1),this.$refs.form.reset()},createConversation:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("createConversation",e.selectedUsers);case 3:a=t.sent,e.$router.push({name:"conversation",params:{conversationId:a.id}}),e.loading=!1,e.closeDialog();case 7:case"end":return t.stop()}}),t)})))()}}},Kn=Gn,Zn=a("c6a6"),Xn=Object(p["a"])(Kn,Wn,Yn,!1,null,null,null),Qn=Xn.exports;v()(Xn,{VAutocomplete:Zn["a"],VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:te["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"]});var er={name:"Messages",metaInfo:{title:"Messages"},components:{Conversations:zn,NewConversationDialog:Qn},data:function(){return{newConversationDialog:!1}}},tr=er,ar=Object(p["a"])(tr,Un,Jn,!1,null,null,null),nr=ar.exports;v()(ar,{VBtn:h["a"],VContainer:T["a"],VIcon:w["a"],VSpacer:A["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"],VTooltip:I["a"]});var rr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.conversation?a("v-card",{staticClass:"messages d-flex flex-column"},[a("v-toolbar",{attrs:{flat:"",rounded:"lg"}},[e.$vuetify.breakpoint.smAndDown?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$router.push({name:"messages"})}}},[a("v-icon",[e._v("mdi-arrow-left")])],1):e._e(),a("v-toolbar-title",[e._v(e._s(e._f("groupNameList")(e.conversation,e.authenticatedUser)))])],1),a("div",{staticClass:"message-container px-4 d-flex flex-column-reverse align-start"},e._l(e.conversation.messages,(function(t,n){return a("div",{key:t.id,staticClass:"message d-flex flex-column",class:t.sender_id==e.authenticatedUser.id?"right":"left"},[a("p",{staticClass:"px-4 py-2 mb-2 rounded-xl grey",class:{"lighten-3":!e.$vuetify.theme.dark,"darken-3":e.$vuetify.theme.dark}},[e._v(" "+e._s(t.body))]),e.showInfo(n)?a("p",{staticClass:"text-caption text--disabled"},[t.sender_id!=e.authenticatedUser.id?a("span",[e._v(e._s(e.participant(t.sender_id).first_name)+" - ")]):e._e(),e.isToday(t.timestamp)?a("span",[e._v(e._s(e._f("date")(t.timestamp,"MMM D"))+", ")]):e._e(),a("span",[e._v(e._s(e._f("time")(t.timestamp)))])]):e._e()])})),0),a("form",{staticClass:"d-flex flex-row align-center pa-3",on:{submit:function(t){return t.preventDefault(),e.sendMessage(t)}}},[a("v-text-field",{ref:"message",attrs:{"background-color":"grey "+(e.$vuetify.theme.dark?"darken":"lighten")+"-3",flat:"","hide-details":"",rounded:"",solo:"",placeholder:"Type a message..."},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),a("v-btn",{staticClass:"ml-3",attrs:{color:"primary",icon:"",type:"submit"}},[a("v-icon",[e._v("mdi-send")])],1)],1)],1):e._e()},ir=[],or={name:"Messages",metaInfo:function(){return{title:this.conversation?this.$options.filters.groupNameList(this.conversation,this.authenticatedUser):"Conversation"}},mounted:function(){console.log(this.$refs.message),this.$store.dispatch("loadConversation",this.$route.params.conversationId)},watch:{"$route.params.conversationId":function(){this.messages=[]}},data:function(){return{message:""}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])(["authenticatedUser"])),{},{conversation:function(){var e=this.$store.getters.conversation(this.$route.params.conversationId);return e&&e.messages&&(e.messages=e.messages.reverse()),e}}),methods:{showInfo:function(e){var t=this.conversation.messages[e],a=this.conversation.messages[e+1];return!a||(t.sender_id!=a.sender_id||new Date(a.timestamp).getTime()-new Date(t.timestamp).getTime()>6e4)},isToday:function(e){var t=new Date,a=new Date(e);return!(t.getUTCDay()==a.getUTCDay()&&t.getUTCMonth()==a.getUTCMonth()&&t.getUTCFullYear()==a.getUTCFullYear())},sendMessage:function(){this.$socket.emit("test",{test:1}),this.$store.dispatch("sendMessage",{message:{body:this.message},conversationId:this.$route.params.conversationId}),this.message=""},participant:function(e){var t=this.conversation.participants.find((function(t){return t.id==e}));return t}},sockets:{connect:function(){console.log("Socket connected")},"message:create":function(e){var t=e.message,a=e.conversation_id;a==this.$route.params.conversationId&&this.messages.unshift(t)}}},sr=or,cr=(a("4d5c"),Object(p["a"])(sr,rr,ir,!1,null,"46c5ccf3",null)),lr=cr.exports;v()(cr,{VBtn:h["a"],VCard:b["a"],VIcon:w["a"],VTextField:de["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"home"},[a("ChangePasswordDialog",{attrs:{opened:e.changePasswordDialog},on:{"update:opened":function(t){e.changePasswordDialog=t}}}),a("SSNDialog",{attrs:{opened:e.ssnDialog},on:{"update:opened":function(t){e.ssnDialog=t}}}),a("v-toolbar",{attrs:{flat:"",color:"transparent"}},[a("v-toolbar-title",{staticClass:"text-h5 font-weight-medium"},[e._v("Settings")])],1),a("v-card",[a("v-card-content",[a("v-list",{attrs:{rounded:"",subheader:""}},[a("v-subheader",[e._v("My profile")]),a("table",{staticClass:"settings-table"},[a("tr",[a("td",[e._v("Name")]),a("td",{staticClass:"stretch"},[e._v(e._s(e._f("fullName")(e.authenticatedUser)))])]),a("tr",[a("td",[e._v("Organization")]),a("td",{staticClass:"stretch"},[e._v(e._s(e.authenticatedUser.organization_info.name))])]),a("tr",[a("td",[e._v("Roles")]),a("td",{staticClass:"stretch"},e._l(e.authenticatedUser.roles,(function(t){return a("v-chip",{staticClass:"mx-1",attrs:{label:""}},[e._v(e._s(e._f("capitalize")(e._f("snakeToSpace")(t.name))))])})),1)]),e.authenticatedUser.employee_info?a("tr",[a("td",[e._v("Address")]),a("td",{staticClass:"stretch"},[e._v(e._s(e.authenticatedUser.employee_info.address))])]):e._e(),e.authenticatedUser.employee_info?a("tr",[a("td",[e._v("Social Security number")]),a("td",{staticClass:"stretch"},[e._v(e._s(e.authenticatedUser.employee_info.ssn))]),a("td",[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.ssnDialog=!0}}},[e._v("Set SSN")])],1)]):e._e()]),a("v-subheader",[e._v("Security")]),a("table",{staticClass:"settings-table"},[a("tr",[a("td",{staticClass:"stretch"},[e._v("Change password")]),a("td",[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.changePasswordDialog=!0}}},[e._v("Change")])],1)])]),a("v-subheader",[e._v("Preferences")]),a("table",{staticClass:"settings-table"},[a("tr",[a("td",{staticClass:"stretch"},[e._v("Dark theme")]),a("td",[a("v-select",{staticClass:"input-small",attrs:{items:["System default","Light","Dark"],dense:"","hide-details":""},on:{change:e.updateDarkMode},model:{value:e.preferences.darkMode,callback:function(t){e.$set(e.preferences,"darkMode",t)},expression:"preferences.darkMode"}})],1)])])],1)],1)],1)],1)},ur=[],mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1),a("v-form",{ref:"form",staticClass:"flex-grow-1 d-flex flex-column",on:{submit:function(t){return t.preventDefault(),e.updatePassword(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-toolbar",{staticClass:"flex-grow-0",attrs:{flat:""}},[a("v-toolbar-title",[e._v("Update your password")])],1),a("v-card-text",{staticClass:"pb-0"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"New password",rules:e.rules.password,required:"",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Confirm new password",rules:e.rules.password.concat([e.rules.matches(e.password,e.confirmPassword)]),required:"",type:"password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"green",disabled:!e.isValid,type:"submit"}},[e._v("Update password")])],1)],1)],1)],1)},pr=[],fr={name:"changePasswordDialog",props:{opened:Boolean},data:function(){return{isValid:!1,loading:!1,password:"",confirmPassword:"",rules:{password:[function(e){return!!e||"Password required"},function(e){return e.length>=8||"Password must be 8 characters"}],matches:function(e,t){return e.replaceAll("-","")==t.replaceAll("-","")||"Passwords must match"}}}},methods:{closeDialog:function(){this.$emit("update:opened",!1),this.create&&this.$refs.form.reset()},updatePassword:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("updatePassword",e.password);case 3:e.$store.dispatch("showSnackbar",{text:"Password changed"}),e.loading=!1,e.closeDialog();case 6:case"end":return t.stop()}}),t)})))()}}},vr=fr,hr=Object(p["a"])(vr,mr,pr,!1,null,null,null),br=hr.exports;v()(hr,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VDialog:te["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"],VTextField:de["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"500",persistent:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-fade-transition",[e.loading?a("v-overlay",{attrs:{absolute:"",opacity:".2"}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):e._e()],1),a("v-form",{ref:"form",staticClass:"flex-grow-1 d-flex flex-column",on:{submit:function(t){return t.preventDefault(),e.setSSN(t)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-toolbar",{staticClass:"flex-grow-0",attrs:{flat:""}},[a("v-toolbar-title",[e._v("Register your Social Security number")])],1),a("v-card-text",{staticClass:"pb-0"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Social Security number",rules:e.rules.ssn,required:"",pattern:"d{3}[-]d{2}[-]d{4}"},model:{value:e.ssn,callback:function(t){e.ssn=t},expression:"ssn"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Confirm SSN",rules:e.rules.ssn.concat([e.rules.matches(e.ssn,e.confirmSSN)]),required:"",pattern:"d{3}[-]d{2}[-]d{4}"},model:{value:e.confirmSSN,callback:function(t){e.confirmSSN=t},expression:"confirmSSN"}})],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"green",disabled:!e.isValid,type:"submit"}},[e._v("Save SSN")])],1)],1)],1)],1)},_r=[],xr=function(e){return function(t){return!!t||e}},wr={name:"ssnDialog",props:{opened:Boolean},data:function(){return{isValid:!1,loading:!1,ssn:"",confirmSSN:"",rules:{ssn:[xr("SSN required"),function(e){var t=/^\d{3}-\d{2}-\d{4}|\d{9}$/;return t.test(e)||"Invalid SSN"}],matches:function(e,t){return e.replaceAll("-","")==t.replaceAll("-","")||"SSNs must match"}}}},methods:{closeDialog:function(){this.$emit("update:opened",!1),this.create&&this.$refs.form.reset()},setSSN:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e.ssn.replaceAll("-",""),t.next=4,e.$store.dispatch("setSSN",a);case 4:e.loading=!1,e.closeDialog();case 6:case"end":return t.stop()}}),t)})))()}}},kr=wr,yr=Object(p["a"])(kr,gr,_r,!1,null,null,null),Cr=yr.exports;v()(yr,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VDialog:te["a"],VFadeTransition:Te["c"],VForm:le["a"],VOverlay:Ee["a"],VProgressCircular:$e["a"],VSpacer:A["a"],VTextField:de["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var Vr={name:"settings",metaInfo:{title:"Settings"},components:{SSNDialog:Cr,ChangePasswordDialog:br},computed:Object(o["a"])({},Object(c["d"])(["authenticatedUser"])),mounted:function(){this.$route.params.openSSNDialog&&(this.ssnDialog=!0)},data:function(){return{changePasswordDialog:!1,ssnDialog:!1,preferences:{darkMode:window.localStorage.getItem("darkMode")||"System default"}}},methods:{updateDarkMode:function(){var e;switch(this.preferences.darkMode){case"System default":e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;break;case"Light":e=!1;break;case"Dark":e=!0;break}window.localStorage.setItem("darkMode",this.preferences.darkMode),this.$vuetify.theme.dark=e}}},Dr=Vr,jr=(a("eee6"),Object(p["a"])(Dr,dr,ur,!1,null,null,null)),Sr=jr.exports;v()(jr,{VBtn:h["a"],VCard:b["a"],VChip:da["a"],VContainer:T["a"],VList:Ia["a"],VSelect:Ca["a"],VSubheader:Va["a"],VToolbar:ae["a"],VToolbarTitle:Ut["a"]});var Or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"d-flex flex-column justify-center",attrs:{"fill-height":""}},[a("v-icon",{staticClass:"text-h2 ma-5"},[e._v("mdi-alert-circle-outline")]),a("p",{staticClass:"text-body-1"},[e._v("This page does not exist!")])],1)},Tr=[],Er={name:"Not found",metaInfo:{title:"Not found"}},$r=Er,Ar=Object(p["a"])($r,Or,Tr,!1,null,null,null),Ir=Ar.exports;v()(Ar,{VContainer:T["a"],VIcon:w["a"]}),n["a"].use(N["a"]),n["a"].use(U["a"]);var Rr=[Oa,Ta],Mr=[{path:"/",name:"home",component:K,meta:{showFooter:!0}},{path:"/about",name:"about",component:re,meta:{showFooter:!0}},{path:"/contact",name:"contact",component:pe,meta:{showFooter:!0}},{path:"/privacy",name:"privacy",component:_e,meta:{showFooter:!0}},{path:"/terms",name:"terms",component:Ve,meta:{showFooter:!0}},{path:"/sign-in",name:"signIn",component:Ie,meta:{fullHeight:!0}},{path:"/sign-up",alias:"/confirmed",name:"signUp",component:Je,meta:{fullHeight:!0}},{path:"/reset-password",name:"resetPassword",component:ze,meta:{fullHeight:!0}},{path:"/users/:userId",name:"user",component:Qe},{path:"/clock",name:"clock",component:wt,meta:{icon:"mdi-clock-outline",restrict:[Sa]}},{path:"/jobs",name:"jobs",component:Na,meta:{icon:"mdi-calendar-check",restrict:[].concat(Rr)}},{path:"/payments",name:"payments",component:ha,meta:{icon:"mdi-clock-check-outline",restrict:[].concat(Rr)}},{path:"/jobs/:jobId",name:"job",component:gn,meta:{restrict:[].concat(Rr)}},{path:"/schedule",name:"schedule",component:Nn,meta:{icon:"mdi-calendar-multiselect",restrict:[Sa].concat(Rr),fullHeight:!0,hideNav:!0}},{path:"/workforce",name:"workforce",component:En,meta:{icon:"mdi-account-group",restrict:[].concat(Rr)}},{path:"/messages",name:"messages",component:nr,meta:{icon:"mdi-message-text-outline",restrict:[Sa].concat(Rr)},children:[{name:"conversation",path:"conversation/:conversationId",component:lr,meta:{fullHeight:!0}}]},{path:"/settings",name:"settings",component:Sr},{path:"*",name:"Not found",component:Ir,meta:{fullHeight:!0}}],Pr=new N["a"]({mode:"history",base:"/",routes:Mr}),Nr=Pr,Ur=(a("c740"),a("c975"),a("b64b"),a("d3b7"),a("5319"),a("bc3a")),Jr=a.n(Ur);function Fr(e,t){return Object(o["a"])(Object(o["a"])({},e),t.reduce((function(t,a){return Object(o["a"])(Object(o["a"])({},t),{},Object(ut["a"])({},a,Array.isArray(e[a])?e[a].map((function(e){return e.id})):e[a].id))}),{}))}function Br(e,t,a){return Object(o["a"])(Object(o["a"])({},e),t.reduce((function(t,n){return Object(o["a"])(Object(o["a"])({},t),{},Object(ut["a"])({},n,Array.isArray(e[n])?e[n].map((function(e){return a["".concat(n,"/find")](e)})):a["".concat(n,"/find")](e[n])))}),{}))}n["a"].use(c["a"]),Jr.a.defaults.withCredentials=!0;var qr=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL||window.location.origin.replace("8080","5000");console.log(qr);var Lr=new c["a"].Store({state:{snackbar:{show:!1,text:"Test",timeout:5e3},authenticatedUser:null,users:{all:[],byId:{}},clock:{clocked:!1,break:!1,history:{lastLoadedOffset:0,all:[],byId:{}}},approvals:{timecards:{all:[],byId:{}}},shifts:{next:null},jobs:{all:[],byId:{}},workforce:[],managers:{employee:[],organization:[]},events:{all:[],byId:{}},conversations:{all:[],byId:[]},contacts:[]},mutations:{SHOW_SNACKBAR:function(e,t){e.snackbar=Object(o["a"])(Object(o["a"])(Object(o["a"])({},e.snackbar),t),{},{show:!0})},SET_AUTHENTICATED_USER:function(e,t){e.authenticatedUser=t,localStorage.setItem("authenticatedUser",JSON.stringify(t))},UNSET_AUTHENTICATED_USER:function(e){e.authenticatedUser=null,localStorage.removeItem("authenticatedUser")},ADD_USER:function(e,t){n["a"].set(e.users.byId,t.id,Object(o["a"])(Object(o["a"])({},e.users.byId[t.id]),t)),e.users.all.includes(t.id)||e.users.all.push(t.id)},SET_SSN_REGISTERED:function(e){e.authenticatedUser.employee_info&&(e.authenticatedUser.employee_info.need_info=!1)},ADD_CLOCK_EVENT:function(e,t){n["a"].set(e.clock.history.byId,t.id,t),e.clock.history.all.includes(t.id)||e.clock.history.all.push(t.id)},INCREMENT_CLOCK_HISTORY_OFFSET:function(e){e.clock.history.lastLoadedOffset++},CLOCK_IN:function(e){e.clock.clocked=!0},CLOCK_OUT:function(e){e.clock.clocked=!1},START_BREAK:function(e){e.clock.break=!0},END_BREAK:function(e){e.clock.break=!1},ADD_TIMECARD:function(e,t){n["a"].set(e.approvals.timecards.byId,t.id,t),e.approvals.timecards.all.includes(t.id)||e.approvals.timecards.all.push(t.id)},REMOVE_TIMECARD:function(e,t){n["a"].delete(e.approvals.timecards.byId,t),n["a"].delete(e.approvals.timecards.all,e.approvals.timecards.all.indexOf(t))},ADD_JOB:function(e,t){n["a"].set(e.jobs.byId,t.id,Object(o["a"])(Object(o["a"])({},e.jobs.byId[t.id]),t)),e.jobs.all.includes(t.id)||e.jobs.all.push(t.id)},REMOVE_JOB:function(e,t){n["a"].delete(e.jobs.byId,t),n["a"].delete(e.jobs.all,e.jobs.all.findIndex((function(e){return e==t})))},ADD_WORKFORCE_MEMBER:function(e,t){e.workforce.includes(t)||e.workforce.push(t)},ADD_MANAGER:function(e,t){var a=t.type,n=t.manager;e.managers[a].some((function(e){return e.id==n.id}))||e.managers[a].push(n)},SET_NEXT_SHIFT:function(e,t){e.shifts.next=t},ADD_SHIFT:function(e,t){var a=t.shift,n=t.jobId;console.log(a,n),e.jobs.byId[n].shifts.push(a)},REMOVE_SHIFT:function(e,t){var a=t.jobId,n=t.shiftId;console.log(n,a),e.jobs.byId[a].shifts=e.jobs.byId[a].shifts.filter((function(e){return e.id!=n}))},ADD_EVENT:function(e,t){n["a"].set(e.events.byId,t.id,t),e.events.all.includes(t.id)||e.events.all.push(t.id)},ADD_CONVERSATION:function(e,t){var a=t.conversation,r=t.prepend;n["a"].set(e.conversations.byId,a.id,a),e.conversations.all.includes(a.id)||(r?e.conversations.all.unshift(a.id):e.conversations.all.push(a.id))},UPDATE_CONTACTS:function(e,t){e.contacts=t},ADD_MESSAGE:function(e,t){var a=t.conversationId,n=t.message;e.conversations.byId[a].messages.push(n)}},actions:{showSnackbar:function(e,t){var a=e.commit;a("SHOW_SNACKBAR",t)},signIn:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,a.prev=1,console.log({baseUrl:qr}),a.next=5,Jr()({method:"POST",url:"".concat(qr,"/auth/login"),data:Object(o["a"])(Object(o["a"])({},t),{},{remember_me:!0})});case 5:return i=a.sent,s=i.data,r("getAuthenticatedUser"),Nr.push({name:"schedule"}),a.abrupt("return",s);case 12:return a.prev=12,a.t0=a["catch"](1),n("UNSET_AUTHENTICATED_USER"),a.abrupt("return",a.t0);case 16:case"end":return a.stop()}}),a,null,[[1,12]])})))()},signUp:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.prev=1,a.next=4,Jr()({method:"POST",url:"".concat(qr,"/auth/register"),data:t});case 4:return r=a.sent,i=r.data,Nr.push({name:"home"}),n("showSnackbar",{text:"Check your email to verify your account!"}),a.abrupt("return",i);case 11:return a.prev=11,a.t0=a["catch"](1),a.abrupt("return",a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()},signOut:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Jr()({method:"POST",url:"".concat(qr,"/auth/logout")});case 3:a("UNSET_AUTHENTICATED_USER"),Nr.push({name:"home"});case 5:case"end":return t.stop()}}),t)})))()},resetPassword:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,a.next=3,Jr()({method:"POST",url:"".concat(qr,"/auth/reset"),data:{email:t}});case 3:case"end":return a.stop()}}),a)})))()},getAuthenticatedUser:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Jr()({method:"GET",url:"".concat(qr,"/users/me")});case 3:n=t.sent,r=n.data,a("SET_AUTHENTICATED_USER",r.authenticated_user);case 6:case"end":return t.stop()}}),t)})))()},loadUser:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"GET",url:"".concat(qr,"/users/").concat(t)});case 3:r=a.sent,i=r.data,n("ADD_USER",i.user);case 6:case"end":return a.stop()}}),a)})))()},loadClockHistory:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.commit,t.next=3,Jr.a.get("".concat(qr,"/clock/history"),{params:{week_offset:a.clock.history.lastLoadedOffset}});case 3:r=t.sent,i=r.data,i.history.forEach((function(e){n("ADD_CLOCK_EVENT",Fr(e,[]))})),n("INCREMENT_CLOCK_HISTORY_OFFSET");case 7:case"end":return t.stop()}}),t)})))()},loadNextShift:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Jr.a.get("".concat(qr,"/shifts/next"));case 3:n=t.sent,r=n.data,a("SET_NEXT_SHIFT",r.shift);case 6:case"end":return t.stop()}}),t)})))()},clockIn:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.state,i=t.code,a.prev=2,a.next=5,Jr()({method:"POST",url:"".concat(qr,"/clock/clock-in"),params:{shift_id:r.shifts.next.id},data:{code:i}});case 5:return o=a.sent,s=o.data,n("ADD_CLOCK_EVENT",s.event),n("CLOCK_IN"),a.abrupt("return",s);case 12:return a.prev=12,a.t0=a["catch"](2),a.abrupt("return",a.t0);case 15:case"end":return a.stop()}}),a,null,[[2,12]])})))()},clockOut:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.state,t.next=3,Jr()({method:"POST",url:"".concat(qr,"/clock/clock-out"),params:{shift_id:n.shifts.next.id}});case 3:r=t.sent,i=r.data,a("ADD_CLOCK_EVENT",i.event),a("CLOCK_OUT");case 7:case"end":return t.stop()}}),t)})))()},loadApprovals:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Jr()({method:"GET",url:"".concat(qr,"/clock/timecards")});case 3:n=t.sent,r=n.data,r.timecards.forEach((function(e){a("ADD_TIMECARD",e)}));case 6:case"end":return t.stop()}}),t)})))()},toggleBreak:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t?"end":"start",a.next=4,Jr()({method:"POST",url:"".concat(qr,"/clock/").concat(r,"-break")});case 4:i=a.sent,o=i.data,n("ADD_CLOCK_EVENT",o.data),n("".concat(r.toUpperCase(),"_BREAK"));case 8:case"end":return a.stop()}}),a)})))()},updateTimecard:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.timecardId,i=t.events,a.next=4,Jr()({method:"PUT",url:"".concat(qr,"/clock/timecards/").concat(r),data:{changes:i}});case 4:o=a.sent,s=o.data,n("ADD_TIMECARD",s.timecard);case 7:case"end":return a.stop()}}),a)})))()},approveTimecards:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"PUT",url:"".concat(qr,"/payments/approve"),data:{timecards:t}});case 3:r=a.sent,i=r.data,i.event.forEach((function(e){n("ADD_TIMECARD",e)}));case 6:case"end":return a.stop()}}),a)})))()},denyTimecards:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"PUT",url:"".concat(qr,"/payments/deny"),data:{timecards:t}});case 3:r=a.sent,i=r.data,i.event.forEach((function(e){n("REMOVE_TIMECARD",e.id)}));case 6:case"end":return a.stop()}}),a)})))()},approvePayment:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.timecards,i=t.transaction,a.next=4,Jr()({method:"PUT",url:"".concat(qr,"/payments/complete"),data:{timecards:r,transaction:i}});case 4:r.forEach((function(e){n("REMOVE_TIMECARD",e.id)}));case 5:case"end":return a.stop()}}),a)})))()},loadManagers:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.state,t.next=3,Jr()({method:"GET",url:"".concat(qr,"/jobs/managers"),params:{manager_id:n.authenticatedUser.manager_id}});case 3:r=t.sent,i=r.data,i.employee_managers.forEach((function(e){a("ADD_MANAGER",{type:"employee",manager:e})})),i.organization_managers.forEach((function(e){a("ADD_MANAGER",{type:"organization",manager:e})}));case 7:case"end":return t.stop()}}),t)})))()},loadJobs:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Jr()({method:"GET",url:"".concat(qr,"/jobs")});case 3:n=t.sent,r=n.data,r.jobs.forEach((function(e){a("ADD_JOB",e)}));case 6:case"end":return t.stop()}}),t)})))()},loadJob:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,e.getters,a.next=3,Jr()({method:"GET",url:"".concat(qr,"/jobs/").concat(t)});case 3:r=a.sent,i=r.data,n("ADD_JOB",i.job);case 6:case"end":return a.stop()}}),a)})))()},createJob:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"POST",url:"".concat(qr,"/jobs"),data:t});case 3:r=a.sent,i=r.data,n("ADD_JOB",i.job);case 6:case"end":return a.stop()}}),a)})))()},updateJob:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"PUT",url:"".concat(qr,"/jobs/").concat(t.id),data:t});case 3:r=a.sent,i=r.data,n("ADD_JOB",i.job);case 6:case"end":return a.stop()}}),a)})))()},closeJob:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"PUT",url:"".concat(qr,"/jobs/").concat(t,"/close")});case 3:r=a.sent,r.data,n("REMOVE_JOB",t);case 6:case"end":return a.stop()}}),a)})))()},createShift:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.shift,i=t.jobId,a.next=4,Jr()({method:"POST",url:"".concat(qr,"/shifts"),data:{shift:r},params:{job_id:i}});case 4:o=a.sent,s=o.data,n("ADD_SHIFT",{shift:s.shift,jobId:i});case 7:case"end":return a.stop()}}),a)})))()},updateShift:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"PUT",url:"".concat(qr,"/shifts/").concat(t.id),data:{shift:t}});case 3:r=a.sent,i=r.data,n("REMOVE_SHIFT",{shiftId:t.id,jobId:i.shift.job_id}),n("ADD_SHIFT",{shift:i.shift,jobId:i.shift.job_id});case 7:case"end":return a.stop()}}),a)})))()},deleteShift:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.shiftId,i=t.jobId,a.next=4,Jr()({method:"DELETE",url:"".concat(qr,"/shifts/").concat(r)});case 4:o=a.sent,o.data,n("REMOVE_SHIFT",{shiftId:r,jobId:i});case 7:case"end":return a.stop()}}),a)})))()},loadWorkforce:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Jr()({method:"GET",url:"".concat(qr,"/users/employees")});case 3:n=t.sent,r=n.data,r.users.forEach((function(e){a("ADD_USER",e),a("ADD_WORKFORCE_MEMBER",e.id)}));case 6:case"end":return t.stop()}}),t)})))()},addManager:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,a.next=3,Jr()({method:"POST",url:"".concat(qr,"/users/add-manager"),data:t});case 3:n=a.sent,n.data;case 5:case"end":return a.stop()}}),a)})))()},addEmployee:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,a.next=3,Jr()({method:"POST",url:"".concat(qr,"/users/add-employee"),data:t});case 3:n=a.sent,n.data;case 5:case"end":return a.stop()}}),a)})))()},loadCalendarEvents:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.start,i=t.end,a.next=4,Jr()({method:"GET",url:"".concat(qr,"/calendar"),params:{date_begin:r,date_end:i}});case 4:o=a.sent,s=o.data,console.log(s),s.events.forEach((function(e){return n("ADD_EVENT",e)}));case 8:case"end":return a.stop()}}),a)})))()},loadConversations:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Jr()({method:"GET",url:"".concat(qr,"/conversations")});case 3:n=t.sent,r=n.data,r.conversations.forEach((function(e){a("ADD_CONVERSATION",{conversation:e})}));case 6:case"end":return t.stop()}}),t)})))()},loadConversation:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"GET",url:"".concat(qr,"/conversations/").concat(t)});case 3:r=a.sent,i=r.data,n("ADD_CONVERSATION",{conversation:i.conversation});case 6:case"end":return a.stop()}}),a)})))()},createConversation:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"POST",url:"".concat(qr,"/conversations"),data:{users:t}});case 3:return r=a.sent,i=r.data,n("ADD_CONVERSATION",{conversation:i.conversation,prepend:!0}),a.abrupt("return",i.conversation);case 7:case"end":return a.stop()}}),a)})))()},loadContacts:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Jr()({method:"GET",url:"".concat(qr,"/conversations/contacts")});case 3:n=t.sent,r=n.data,a("UPDATE_CONTACTS",r.contacts);case 6:case"end":return t.stop()}}),t)})))()},sendMessage:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.message,i=t.conversationId,a.next=4,Jr()({method:"POST",url:"".concat(qr,"/conversations/").concat(i,"/messages"),data:r});case 4:o=a.sent,s=o.data,n("ADD_MESSAGE",{message:s.message,conversationId:i});case 7:case"end":return a.stop()}}),a)})))()},updatePassword:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,a.next=3,Jr()({method:"PUT",url:"".concat(qr,"/users/reset-password"),data:{password:t}});case 3:n=a.sent,n.data;case 5:case"end":return a.stop()}}),a)})))()},setSSN:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,Jr()({method:"PUT",url:"".concat(qr,"/users/me/ssn"),data:{ssn:t}});case 3:r=a.sent,r.data,n("SET_SSN_REGISTERED");case 6:case"end":return a.stop()}}),a)})))()}},getters:{user:function(e){return function(t){return e.users.byId[t]}},clockEvent:function(e,t,a,n){return function(t){return Br(e.clock.history.byId[t],[],n)}},clockHistory:function(e,t){var a=e.clock.history.all.map((function(e){return t.clockEvent(e)}));return a=a.sort((function(e,t){return new Date(t.time)-new Date(e.time)})),a},nextShift:function(e){if(!e.shifts.next)return{};var t=new Date(e.shifts.next.time_begin),a=new Date(e.shifts.next.time_end),n=new Date,r=t<=n&&n<=a;return Object(o["a"])(Object(o["a"])({},e.shifts.next),{},{time_begin:t,time_end:a,shiftActive:r})},timecard:function(e){return function(t){return e.approvals.timecards.byId[t]}},timecards:function(e,t){return e.approvals.timecards.all.map((function(e){return t.timecard(e)}))},approvedTimecards:function(e,t){return t.timecards.filter((function(e){return e.approved&&!e.paid}))},unapprovedTimecards:function(e,t){return t.timecards.filter((function(e){return!e.approved}))},job:function(e){return function(t){var a=e.jobs.byId[t];return a}},jobs:function(e,t){return e.jobs.all.map((function(e){return t.job(e)}))},directJobs:function(e,t){return t.jobs.filter((function(e){return e.direct}))},indirectJobs:function(e,t){return t.jobs.filter((function(e){return!e.direct}))},shift:function(e){return function(t){return e.shifts.byId[t]}},shifts:function(e,t){return e.shifts.all.map((function(e){return t.shift(e)}))},workforce:function(e,t){return e.workforce.map((function(t){return e.users.byId[t]}))},calendarEvent:function(e){return function(t){return e.events.byId[t]}},calendarEvents:function(e,t){var a=0,n=["blue","green","purple","indigo","orange darken-1","deep-purple","red","light-blue","yellow darken-2","light-green","cyan","pink","teal","lime"],r={};return e.events.all.map((function(e){var i,s=t.calendarEvent(e);return r[s.job_id]?i=r[s.job_id]:(i=n[a%n.length],r[s.job_id]=i,a++),Object(o["a"])({name:s.site_location,start:new Date(s.time_begin),end:new Date(s.time_end),color:i,timed:!0},s)}))},conversation:function(e,t,a,n){return function(t){return e.conversations.byId[t]}},conversations:function(e,t){return e.conversations.all.map((function(e){return t.conversation(e)}))}},modules:{}});Jr.a.interceptors.response.use((function(e){return e}),(function(e){var t,a=e.response.data;if("http://localhost:5000/users/me"!=e.request.responseURL){if(a.message||a.response.error)t=a.message||a.response.error;else{var n=e.response.data.response.errors;t=n[Object.keys(n)[0]][0]}return Lr.dispatch("showSnackbar",{text:t}),Promise.reject(e)}}));var Hr=Lr,zr=a("f309");n["a"].use(zr["a"]);var Wr=new zr["a"]({theme:{themes:{light:{primary:"#3b7bef"}}}}),Yr=a("8e27"),Gr=a.n(Yr),Kr=a("5132"),Zr=a.n(Kr),Xr=a("755e"),Qr=a("ab6f");a("7d05"),a("a15b");n["a"].filter("capitalize",(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),n["a"].filter("date",(function(e,t){return Vt()(e).format(t||"YYYY-MM-DD")})),n["a"].filter("time",(function(e,t){return Vt()(e).format(t||"h:mm a")})),n["a"].filter("phone",(function(e){return"(".concat(e.substring(0,3),") ").concat(e.substring(3,6),"-").concat(e.substring(6,10))})),n["a"].filter("snakeToSpace",(function(e){return e.replaceAll("_"," ")})),n["a"].filter("fullName",(function(e){return e?"".concat(e.first_name," ").concat(e.last_name):"Invalid user"})),n["a"].filter("groupNameList",(function(e,t){return e.participants.filter((function(e){return e.id!=t.id})).map((function(t){return 2==e.participants.length?n["a"].filter("fullName")(t):t.first_name})).join(", ")}));var ei="AIzaSyDtNK7zw8XCJmgNYIZOLqveu215fekbATA";n["a"].use(Xr,{load:{key:ei,libraries:"places"}}),n["a"].use(Qr["a"],{apiKey:ei,vueGoogleMapsCompatibility:!0}),n["a"].use(new Zr.a({debug:!0,connection:Gr()(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL,{path:"/socket.io"}),vuex:{store:Hr,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),n["a"].config.productionTip=!1,new n["a"]({router:Nr,store:Hr,vuetify:Wr,render:function(e){return e(M)}}).$mount("#app")},eee6:function(e,t,a){"use strict";a("7c23")},f26d:function(e,t,a){"use strict";a("5f83")},fa92:function(e,t,a){"use strict";a("affc")}});
//# sourceMappingURL=app.42676a3b.js.map